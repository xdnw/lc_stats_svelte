var T=(e,t,a)=>new Promise((n,r)=>{var o=s=>{try{i(a.next(s))}catch(c){r(c)}},l=s=>{try{i(a.throw(s))}catch(c){r(c)}},i=s=>s.done?n(s.value):Promise.resolve(s.value).then(o,l);i((a=a.apply(e,t)).next())});import{ai as I,f as G,u as v,a0 as P,w as F,B as p,al as U,p as V,t as x,b as j,s as D,c as S,r as y,g as f,j as A}from"./MAWq1Bs-.js";import{e as B,a as h,f as w,s as L,t as q}from"./ByHfNYyH.js";import{i as W}from"./DPmMxCJa.js";import{s as J}from"./B5EBjWa1.js";import{a as H,s as N}from"./CnrOJzGS.js";import{p as k}from"./BTi-TpZb.js";import{e as Q,i as K}from"./D5oqsy_p.js";import{i as Y}from"./DRn8owhI.js";function Te(e,t,a=t){var n=new WeakSet;I(e,"input",r=>T(null,null,function*(){var o=r?e.defaultValue:e.value;if(o=C(e)?E(o):o,a(o),p!==null&&n.add(p),yield G(),o!==(o=t())){var l=e.selectionStart,i=e.selectionEnd,s=e.value.length;if(e.value=o!=null?o:"",i!==null){var c=e.value.length;l===i&&i===s&&c>s?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=l,e.selectionEnd=Math.min(i,c))}}})),(F&&e.defaultValue!==e.value||v(t)==null&&e.value)&&(a(C(e)?E(e.value):e.value),p!==null&&n.add(p)),P(()=>{var l;var r=t();if(e===document.activeElement){var o=(l=U)!=null?l:p;if(n.has(o))return}C(e)&&r===E(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r!=null?r:"")})}function Ce(e,t,a=t){I(e,"change",n=>{var r=n?e.defaultChecked:e.checked;a(r)}),(F&&e.defaultChecked!==e.checked||v(t)==null)&&a(e.checked),P(()=>{var n=t();e.checked=!!n})}function C(e){var t=e.type;return t==="number"||t==="range"}function E(e){return e===""?null:+e}function Ee(e){return function(...t){var a=t[0];a.target===this&&(e==null||e.apply(this,t))}}function _e(e){return function(...t){var a=t[0];return a.stopPropagation(),e==null?void 0:e.apply(this,t)}}function De(e){return function(...t){var a=t[0];return a.preventDefault(),e==null?void 0:e.apply(this,t)}}function Ae(e){if(e==null||e==-1)return"N/A";let a=new Date(e).toISOString().slice(0,16).replace("T"," ");return a.endsWith("00:00")?a.slice(0,10):a}function Be(e){return Z(e*12)}function X(e){let t=~~(e/31536e3),a=~~((e-t*31536e3)/604800),n=~~((e-t*31536e3-a*604800)/86400),r=~~((e-t*31536e3-a*604800-n*86400)/3600),o=~~((e-t*31536e3-a*604800-n*86400-r*3600)/60),l=e-t*31536e3-a*604800-n*86400-r*3600-o*60,i=["year","week","day","hour","minute","second"];return[t,a,n,r,o,l].map((s,c)=>s?"".concat(s," ").concat(i[c]).concat(s!==1?"s":""):"").filter(s=>s).join(", ").replace(/,([^,]*)$/," and$1")}function Z(e){let t=e/12*60*60*24*1e3,a=new Date;a.setTime(t);let n=a.toISOString().slice(0,16).replace("T"," ");return n.endsWith("00:00")?n.slice(0,10):n}function Le(e){for(var t=(""+(e<0?-e:e)).split("."),a=t[0],n,r=n=a.length,o="";r--;)o=(r===0||(n-r)%3?"":",")+a.charAt(r)+o;return(e<0?"-":"")+o+(t[1]?"."+t[1]:"")}function Ne(e,t){const a=(e!=null?e:"").trim();return a.length>0?a:"AA:".concat(t)}function Me(e,t){const a=(e!=null?e:"").trim();return a.length>0?a:"nation:".concat(t)}function Ie(e){return e.map(t=>Number(t)).filter(t=>Number.isFinite(t)&&t>0)}function Pe(e,t){return"https://locutus.s3.ap-southeast-2.amazonaws.com/conflicts/".concat(e,".gzip?").concat(t)}function Fe(e,t){return"https://locutus.s3.ap-southeast-2.amazonaws.com/conflicts/graphs/".concat(e,".gzip?").concat(t)}function Ve(e,t){let a="Version: ".concat(e);if(t!=null&&!isNaN(t)){const n=Math.max(0,Math.round((Date.now()-t)/1e3));a+=" â€¢ Last updated ".concat(X(n)," ago")}return a}function je(e){return new Promise((t,a)=>{const n=()=>{for(const o of e){const l=document.getElementById(o);if(!l||!l.hasAttribute("data-loaded"))return!1}return!0},r=o=>{o.target.setAttribute("data-loaded","true"),n()&&t()};for(const o of e){const l=document.getElementById(o);if(!l){a(new Error("Script element with id ".concat(o," not found")));return}l.hasAttribute("data-loaded")||l.addEventListener("load",r)}n()&&t()})}function We(e,t){let a;return function n(r){a||(a=r),r-a<e?requestAnimationFrame(n):t()}}function He(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e==="x"?t:t&3|8;return a.toString(16)})}function Re(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}function ze(e,t){return e.length===t.length&&e.every((a,n)=>a===t[n])}function Oe(){var e;return typeof((e=globalThis.scheduler)==null?void 0:e.yield)=="function"?globalThis.scheduler.yield():new Promise(t=>{requestAnimationFrame(()=>setTimeout(t,0))})}function Ge(){return window.vis}function Ue(){return window.Plotly}function qe(e,t){window[e]=t}function Je(e){return window[e]}function ee(e){var t;if(!e)return null;const a=(t=window.bootstrap)==null?void 0:t.Modal;return a?a.getOrCreateInstance(e):null}function te(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}function g(e,t){const a=document.createElement("div");a.innerHTML=t,ae(e,a)}function ae(e,t){ne(e,t,'<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>')}function ne(e,t,a){const n=`<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel"></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                  <div class="modal-body text-break"></div>
                  <div class="modal-footer"></div>
              </div>
          </div>
      </div>`;let r=document.getElementById("exampleModal");r==null&&(r=te(n),document.body.appendChild(r)),r.getElementsByClassName("modal-title")[0].innerHTML=e;const o=r.getElementsByClassName("modal-body")[0];o.innerHTML="",o.appendChild(t),r.getElementsByClassName("modal-footer")[0].innerHTML=a;const l=ee(r);l==null||l.show()}var re=(e,t,a)=>new Promise((n,r)=>{var o=s=>{try{i(a.next(s))}catch(c){r(c)}},l=s=>{try{i(a.throw(s))}catch(c){r(c)}},i=s=>s.done?n(s.value):Promise.resolve(s.value).then(o,l);i((a=a.apply(e,t)).next())});function oe(e,t){return e instanceof Set?Array.from(e).map(a=>a==null?"":String(a)).join(t):Array.isArray(e)?e.map(a=>a==null?"":String(a)).join(t):e}function Qe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"|";return e.map(a=>{let[n,r]=a;return[n,oe(r,t)]})}const M={CSV:{delimiter:",",ext:"csv",mime:"text/csv"},TSV:{delimiter:"	",ext:"tsv",mime:"text/tab-separated-values"}},le={CSV:M.CSV,TSV:M.TSV};function se(e,t){if(e==null)return"";const a=String(e);return a.includes('"')||a.includes(`
`)||a.includes("\r")||a.includes(t)?'"'.concat(a.replaceAll('"','""'),'"'):a}function R(e,t,a){const n=e.map(r=>r.map(o=>se(o,t.delimiter)).join(t.delimiter)).join(`
`);return(a?"sep=".concat(t.delimiter,`
`):"")+n}function _(e,t,a,n){if(n==="clipboard"){navigator.clipboard.writeText(e).catch(l=>{console.error("Failed to copy to clipboard",l)}),g("Copied to clipboard","The selected export has been copied to your clipboard.");return}const r=new Blob([e],{type:"".concat(a.mime,";charset=utf-8;")}),o=document.createElement("a");if(o.download!==void 0){const l=URL.createObjectURL(r);o.setAttribute("href",l),o.setAttribute("download",t),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}g("Download starting","Your selected export should begin downloading. If it does not, check browser settings or use copy instead.")}function Ke(e){var t;const{bundle:a,datasetKey:n,format:r,target:o}=e,l=a.tables.find(u=>u.key===n);if(!l)return g("Error","Could not find export dataset: ".concat(n)),!1;if(r==="JSON"){const u={baseFileName:a.baseFileName,generatedAt:new Date().toISOString(),dataset:{key:l.key,label:l.label,columns:l.columns,rows:l.rows},meta:(t=a.meta)!=null?t:{}},d=JSON.stringify(u,null,2);return _(d,"".concat(a.baseFileName,"-").concat(l.key,".json"),{mime:"application/json"},o),!0}const i=le[r],s=[l.columns,...l.rows],c=R(s,i,!0);return _(c,"".concat(a.baseFileName,"-").concat(l.key,".").concat(i.ext),i,o),!0}function Ye(e,t,a){const n=$(e).DataTable(),r=[],o=new Set;n.columns().every(function(i){if(n.column(i).visible()){if(i===0)return;r.push(n.column(i).header().textContent||"name"),o.add(i)}});const l=[r];n.rows({search:"applied"}).every(function(){const i=[];this.data().forEach((s,c)=>{o.has(c+1)&&i.push(s)}),l.push(i)}),ie(l,t,a)}function ie(e,t,a){const n=R(e,a,!t);_(n,"data.".concat(a.ext),a,t?"clipboard":"download")}function ce(e){return re(this,null,function*(){try{e!=null&&e.prepare&&(yield e.prepare());const t=window.location.href;return yield navigator.clipboard.writeText(t),g("Share link copied","The current page link has been copied to your clipboard."),!0}catch(t){return console.error("Failed to copy share link",t),g("Copy failed","Could not copy the share link. Please copy the URL from your browser address bar."),!1}})}var de=w('<div class="d-flex flex-wrap gap-1 align-items-center justify-content-end"><!> <button class="btn ux-btn btn-sm fw-bold">Copy share link</button> <button>Reset</button></div>');function Xe(e,t){V(t,!1);let a=k(t,"onReset",8,null),n=k(t,"onSharePrepare",8,null),r=k(t,"resetDirty",8,!1);function o(){return T(this,null,function*(){var d;yield ce({prepare:(d=n())!=null?d:void 0})})}W();var l=de(),i=S(l);J(i,t,"default",{},null);var s=D(i,2),c=D(s,2);let u;y(l),x(()=>u=H(c,1,"btn ux-btn btn-sm fw-bold",null,u,{"ux-btn-danger":r()})),B("click",s,o),B("click",c,()=>{var d;return(d=a())==null?void 0:d()}),h(e,l),j()}var ue=w('<div class="progress flex-grow-1 svelte-rgwvlh" role="status" aria-label="Loading"><div class="progress-bar text-bg-info progress-bar-animated placeholder-wave svelte-rgwvlh" style="width: 100%;"></div></div>');function Ze(e){var t=ue();h(e,t)}var fe=w('<a class="text-decoration-none"> </a>'),me=w("<li><!></li>"),ve=w('<nav aria-label="Breadcrumb" class="ux-breadcrumbs"><ol class="breadcrumb m-0 fw-bold"></ol></nav>');function $e(e,t){V(t,!1);let a=k(t,"items",24,()=>[]);W();var n=ve(),r=S(n);Q(r,5,a,K,(o,l,i)=>{var s=me();let c;var u=S(s);{var d=b=>{var m=fe(),O=S(m,!0);y(m),x(()=>{N(m,"href",(f(l),v(()=>f(l).href))),L(O,(f(l),v(()=>f(l).label)))}),h(b,m)},z=b=>{var m=q();x(()=>L(m,(f(l),v(()=>f(l).label)))),h(b,m)};Y(u,b=>{f(l),A(a()),v(()=>f(l).href&&i!==a().length-1)?b(d):b(z,!1)})}y(s),x(()=>{c=H(s,1,"breadcrumb-item",null,c,{active:i===a().length-1}),N(s,"aria-current",(A(a()),v(()=>i===a().length-1?"page":void 0)))}),h(o,s)}),y(r),y(n),h(e,n),j()}export{Re as A,$e as B,He as C,Me as D,M as E,X as F,De as G,_e as H,Ze as P,Xe as S,Fe as a,Ne as b,Z as c,Ye as d,Be as e,Ve as f,Pe as g,je as h,Ue as i,Ce as j,Ke as k,ze as l,Qe as m,Ie as n,Le as o,Je as p,g as q,We as r,qe as s,ee as t,Ge as u,Te as v,Ee as w,ae as x,Oe as y,Ae as z};
