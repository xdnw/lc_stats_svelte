var f=(t,e,a)=>new Promise((n,o)=>{var s=l=>{try{i(a.next(l))}catch(c){o(c)}},r=l=>{try{i(a.throw(l))}catch(c){o(c)}},i=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,r);i((a=a.apply(t,e)).next())});import{e as p,a as v,t as y}from"./disclose-version.BGVnXwSC.js";import{i as w}from"./legacy.C5xHvBl9.js";import{y as h,p as g,t as C,b as L,c as b,d as T,r as D}from"./runtime.Bz3ZCnid.js";import{s as N}from"./slot.COw-DbJz.js";import{p as m}from"./props.CYdPwHoV.js";import"./binary.C_HE3RDK.js";function V(t,e){var a=t.__className,n=S(e);h&&t.className===n?t.__className=n:(a!==n||h&&t.className!==n)&&(e==null?t.removeAttribute("class"):t.className=n,t.__className=n)}function S(t){return t==null?"":t}function E(t,e,a){if(a){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function J(t){if(t==null||t==-1)return"N/A";let a=new Date(t).toISOString().slice(0,16).replace("T"," ");return a.endsWith("00:00")?a.slice(0,10):a}function K(t){return k(t*12)}function x(t){let e=~~(t/31536e3),a=~~((t-e*31536e3)/604800),n=~~((t-e*31536e3-a*604800)/86400),o=~~((t-e*31536e3-a*604800-n*86400)/3600),s=~~((t-e*31536e3-a*604800-n*86400-o*3600)/60),r=t-e*31536e3-a*604800-n*86400-o*3600-s*60,i=["year","week","day","hour","minute","second"];return[e,a,n,o,s,r].map((l,c)=>l?`${l} ${i[c]}${l!==1?"s":""}`:"").filter(l=>l).join(", ").replace(/,([^,]*)$/," and$1")}function k(t){let e=t/12*60*60*24*1e3,a=new Date;a.setTime(e);let n=a.toISOString().slice(0,16).replace("T"," ");return n.endsWith("00:00")?n.slice(0,10):n}function Q(t){for(var e=(""+(t<0?-t:t)).split("."),a=e[0],n,o=n=a.length,s="";o--;)s=(o===0||(n-o)%3?"":",")+a.charAt(o)+s;return(t<0?"-":"")+s+(e[1]?"."+e[1]:"")}function X(t,e){const a=(t!=null?t:"").trim();return a.length>0?a:`AA:${e}`}function Y(t,e){const a=(t!=null?t:"").trim();return a.length>0?a:`nation:${e}`}function Z(t){return t.map(e=>Number(e)).filter(e=>Number.isFinite(e)&&e>0)}function tt(t,e){return`https://locutus.s3.ap-southeast-2.amazonaws.com/conflicts/${t}.gzip?${e}`}function et(t,e){return`https://locutus.s3.ap-southeast-2.amazonaws.com/conflicts/graphs/${t}.gzip?${e}`}function at(t,e){let a=`Version: ${t}`;if(e!=null&&!isNaN(e)){const n=Math.max(0,Math.round((Date.now()-e)/1e3));a+=` â€¢ Last updated ${x(n)} ago`}return a}function nt(t){return new Promise((e,a)=>{const n=()=>{for(const s of t){const r=document.getElementById(s);if(!r||!r.hasAttribute("data-loaded"))return!1}return!0},o=s=>{s.target.setAttribute("data-loaded","true"),n()&&e()};for(const s of t){const r=document.getElementById(s);if(!r){a(new Error(`Script element with id ${s} not found`));return}r.hasAttribute("data-loaded")||r.addEventListener("load",o)}n()&&e()})}function ot(t,e){let a;return function n(o){a||(a=o),o-a<t?requestAnimationFrame(n):e()}}function st(){return window.vis}function rt(){return window.Plotly}function lt(t,e){window[t]=e}function it(t){return window[t]}function _(t){var e;if(!t)return null;const a=(e=window.bootstrap)==null?void 0:e.Modal;return a?a.getOrCreateInstance(t):null}function A(t){const e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}function u(t,e){const a=document.createElement("div");a.innerHTML=e,I(t,a)}function I(t,e){M(t,e,'<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>')}function M(t,e,a){const n=`<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel"></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                  <div class="modal-body text-break"></div>
                  <div class="modal-footer"></div>
              </div>
          </div>
      </div>`;let o=document.getElementById("exampleModal");o==null&&(o=A(n),document.body.appendChild(o)),o.getElementsByClassName("modal-title")[0].innerHTML=t;const s=o.getElementsByClassName("modal-body")[0];s.innerHTML="",s.appendChild(e),o.getElementsByClassName("modal-footer")[0].innerHTML=a;const r=_(o);r==null||r.show()}var B=(t,e,a)=>new Promise((n,o)=>{var s=l=>{try{i(a.next(l))}catch(c){o(c)}},r=l=>{try{i(a.throw(l))}catch(c){o(c)}},i=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,r);i((a=a.apply(t,e)).next())});const ct={CSV:{delimiter:",",ext:"csv",mime:"text/csv"},TSV:{delimiter:"	",ext:"tsv",mime:"text/tab-separated-values"}};function dt(t,e,a){const n=$(t).DataTable(),o=[],s=new Set;n.columns().every(function(i){if(n.column(i).visible()){if(i===0)return;o.push(n.column(i).header().textContent||"name"),s.add(i)}});const r=[o];n.rows({search:"applied"}).every(function(){const i=[];this.data().forEach((l,c)=>{s.has(c+1)&&i.push(l)}),r.push(i)}),P(r,e,a)}function P(t,e,a){const n=(e?"":`sep=${a.delimiter}
`)+t.map(r=>r.join(a.delimiter)).join(`
`);if(e){navigator.clipboard.writeText(n).catch(r=>{console.error("Failed to copy to clipboard",r)}),u("Copied to clipboard","The data for the currently selected columns has been copied to your clipboard.");return}const o=new Blob([n],{type:`${a.mime};charset=utf-8;`}),s=document.createElement("a");if(s.download!==void 0){const r=URL.createObjectURL(o);s.setAttribute("href",r),s.setAttribute("download",`data.${a.ext}`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}u("Download starting","The data for the currently selected columns should begin downloading. If the download does not start, please check your browser settings, or try the clipboard button instead")}function R(t){return B(this,null,function*(){try{t!=null&&t.prepare&&(yield t.prepare());const e=window.location.href;return yield navigator.clipboard.writeText(e),u("Share link copied","The current page link has been copied to your clipboard."),!0}catch(e){return console.error("Failed to copy share link",e),u("Copy failed","Could not copy the share link. Please copy the URL from your browser address bar."),!1}})}var j=y('<div class="d-flex flex-wrap gap-1 align-items-center justify-content-end"><!> <button class="btn ux-btn btn-sm fw-bold">Copy share link</button> <button class="btn ux-btn btn-sm fw-bold">Reset</button></div>');function ut(t,e){g(e,!1);let a=m(e,"onReset",8,null),n=m(e,"onSharePrepare",8,null),o=m(e,"resetDirty",8,!1);function s(){return f(this,null,function*(){var d;yield R({prepare:(d=n())!=null?d:void 0})})}w();var r=j(),i=T(r);N(i,e,"default",{},null);var l=b(i,2),c=b(l,2);D(r),C(()=>E(c,"ux-btn-danger",o())),p("click",l,s),p("click",c,()=>{var d;return(d=a())==null?void 0:d()}),v(t,r),L()}var q=y('<div class="progress flex-grow-1 svelte-7mqq29" role="status" aria-label="Loading"><div class="progress-bar text-bg-info progress-bar-animated placeholder-wave svelte-7mqq29" style="width: 100%;"></div></div>');function mt(t){var e=q();v(t,e)}export{ct as E,mt as P,ut as S,X as a,et as b,k as c,dt as d,K as e,at as f,tt as g,nt as h,rt as i,Q as j,V as k,it as l,u as m,Z as n,_ as o,st as p,J as q,ot as r,lt as s,E as t,I as u,Y as v,x as w};
