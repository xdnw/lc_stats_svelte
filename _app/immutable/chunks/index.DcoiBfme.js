import{u as Le}from"./runtime.DMLHWUus.js";import{a as at,t as ct}from"./disclose-version.xy21-f78.js";import"./legacy.N0bfMBuo.js";function Zt(e,t){var r=e.__className,n=ft(t);Le&&e.className===n?e.__className=n:(r!==n||Le&&e.className!==n)&&(t==null?e.removeAttribute("class"):e.className=n,e.__className=n)}function ft(e){return e==null?"":e}function Xt(e,t,r){if(r){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}var ut=ct('<div class="progress flex-grow-1 svelte-7mqq29" role="status" aria-label="Loading"><div class="progress-bar text-bg-info progress-bar-animated placeholder-wave svelte-7mqq29" style="width: 100%;"></div></div>');function er(e){var t=ut();at(e,t)}var Te;try{Te=new TextDecoder}catch(e){}var x,Z,i=0,O={},v,se,Y=0,ee=0,q,te,W=[],E,Ce={useRecords:!1,mapsAsObjects:!0};class Je{}const He=new Je;He.name="MessagePack 0xC1";var ie=!1,We=2,Oe;try{new Function("")}catch(e){We=1/0}class ce{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,r){if(x)return Xe(()=>(ke(),this?this.unpack(t,r):ce.prototype.unpack.call(Ce,t,r)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer!="undefined"?Buffer.from(t):new Uint8Array(t)),typeof r=="object"?(Z=r.end||t.length,i=r.start||0):(i=0,Z=r>-1?r:t.length),ee=0,se=null,q=null,x=t;try{E=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(n){throw x=null,t instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof ce){if(O=this,this.structures)return v=this.structures,ge(r);(!v||v.length>0)&&(v=[])}else O=Ce,(!v||v.length>0)&&(v=[]);return ge(r)}unpackMultiple(t,r){let n,s=0;try{ie=!0;let l=t.length,f=this?this.unpack(t,l):ye.unpack(t,l);if(r){if(r(f,s,i)===!1)return;for(;i<l;)if(s=i,r(ge(),s,i)===!1)return}else{for(n=[f];i<l;)s=i,n.push(ge());return n}}catch(l){throw l.lastPosition=s,l.values=n,l}finally{ie=!1,ke()}}_mergeStructures(t,r){t=t||[],Object.isFrozen(t)&&(t=t.map(n=>n.slice(0)));for(let n=0,s=t.length;n<s;n++){let l=t[n];l&&(l.isShared=!0,n>=32&&(l.highByte=n-32>>5))}t.sharedLength=t.length;for(let n in r||[])if(n>=0){let s=t[n],l=r[n];l&&(s&&((t.restoreStructures||(t.restoreStructures=[]))[n]=s),t[n]=l)}return this.structures=t}decode(t,r){return this.unpack(t,r)}}function ge(e){try{if(!O.trusted&&!ie){let r=v.sharedLength||0;r<v.length&&(v.length=r)}let t;if(O.randomAccessStructure&&x[i]<64&&x[i]>=32&&Oe?(t=Oe(x,i,Z,O),x=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),i=Z):t=M(),q&&(i=q.postBundlePosition,q=null),ie&&(v.restoreStructures=null),i==Z)v&&v.restoreStructures&&De(),v=null,x=null,te&&(te=null);else{if(i>Z)throw new Error("Unexpected end of MessagePack data");if(!ie){let r;try{r=JSON.stringify(t,(n,s)=>typeof s=="bigint"?`${s}n`:s).slice(0,100)}catch(n){r="(JSON view not available "+n+")"}throw new Error("Data read, but end of buffer not reached "+r)}}return t}catch(t){throw v&&v.restoreStructures&&De(),ke(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||i>Z)&&(t.incomplete=!0),t}}function De(){for(let e in v.restoreStructures)v[e]=v.restoreStructures[e];v.restoreStructures=null}function M(){let e=x[i++];if(e<160)if(e<128){if(e<64)return e;{let t=v[e&63]||O.getStructures&&Ke()[e&63];return t?(t.read||(t.read=_e(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,O.mapsAsObjects){let t={};for(let r=0;r<e;r++){let n=Ge();n==="__proto__"&&(n="__proto_"),t[n]=M()}return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(M(),M());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=M();return O.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(ee>=i)return se.slice(i-Y,(i+=t)-Y);if(ee==0&&Z<140){let r=t<16?Be(t):Qe(t);if(r!=null)return r}return ve(t)}else{let t;switch(e){case 192:return null;case 193:return q?(t=M(),t>0?q[1].slice(q.position1,q.position1+=t):q[0].slice(q.position0,q.position0-=t)):He;case 194:return!1;case 195:return!0;case 196:if(t=x[i++],t===void 0)throw new Error("Unexpected end of buffer");return Ee(t);case 197:return t=E.getUint16(i),i+=2,Ee(t);case 198:return t=E.getUint32(i),i+=4,Ee(t);case 199:return le(x[i++]);case 200:return t=E.getUint16(i),i+=2,le(t);case 201:return t=E.getUint32(i),i+=4,le(t);case 202:if(t=E.getFloat32(i),O.useFloat32>2){let r=Ue[(x[i]&127)<<1|x[i+1]>>7];return i+=4,(r*t+(t>0?.5:-.5)>>0)/r}return i+=4,t;case 203:return t=E.getFloat64(i),i+=8,t;case 204:return x[i++];case 205:return t=E.getUint16(i),i+=2,t;case 206:return t=E.getUint32(i),i+=4,t;case 207:return O.int64AsType==="number"?(t=E.getUint32(i)*4294967296,t+=E.getUint32(i+4)):O.int64AsType==="string"?t=E.getBigUint64(i).toString():O.int64AsType==="auto"?(t=E.getBigUint64(i),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=E.getBigUint64(i),i+=8,t;case 208:return E.getInt8(i++);case 209:return t=E.getInt16(i),i+=2,t;case 210:return t=E.getInt32(i),i+=4,t;case 211:return O.int64AsType==="number"?(t=E.getInt32(i)*4294967296,t+=E.getUint32(i+4)):O.int64AsType==="string"?t=E.getBigInt64(i).toString():O.int64AsType==="auto"?(t=E.getBigInt64(i),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=E.getBigInt64(i),i+=8,t;case 212:if(t=x[i++],t==114)return je(x[i++]&63);{let r=W[t];if(r)return r.read?(i++,r.read(M())):r.noBuffer?(i++,r()):r(x.subarray(i,++i));throw new Error("Unknown extension "+t)}case 213:return t=x[i],t==114?(i++,je(x[i++]&63,x[i++])):le(2);case 214:return le(4);case 215:return le(8);case 216:return le(16);case 217:return t=x[i++],ee>=i?se.slice(i-Y,(i+=t)-Y):ht(t);case 218:return t=E.getUint16(i),i+=2,ee>=i?se.slice(i-Y,(i+=t)-Y):gt(t);case 219:return t=E.getUint32(i),i+=4,ee>=i?se.slice(i-Y,(i+=t)-Y):mt(t);case 220:return t=E.getUint16(i),i+=2,Ne(t);case 221:return t=E.getUint32(i),i+=4,Ne(t);case 222:return t=E.getUint16(i),i+=2,Pe(t);case 223:return t=E.getUint32(i),i+=4,Pe(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}const dt=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function _e(e,t){function r(){if(r.count++>We){let s=e.read=new Function("r","return function(){return "+(O.freezeData?"Object.freeze":"")+"({"+e.map(l=>l==="__proto__"?"__proto_:r()":dt.test(l)?l+":r()":"["+JSON.stringify(l)+"]:r()").join(",")+"})}")(M);return e.highByte===0&&(e.read=Ie(t,e.read)),s()}let n={};for(let s=0,l=e.length;s<l;s++){let f=e[s];f==="__proto__"&&(f="__proto_"),n[f]=M()}return O.freezeData?Object.freeze(n):n}return r.count=0,e.highByte===0?Ie(t,r):r}const Ie=(e,t)=>function(){let r=x[i++];if(r===0)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),s=v[n]||Ke()[n];if(!s)throw new Error("Record id is not defined for "+n);return s.read||(s.read=_e(s,e)),s.read()};function Ke(){let e=Xe(()=>(x=null,O.getStructures()));return v=O._mergeStructures(e,v)}var ve=he,ht=he,gt=he,mt=he;function he(e){let t;if(e<16&&(t=Be(e)))return t;if(e>64&&Te)return Te.decode(x.subarray(i,i+=e));const r=i+e,n=[];for(t="";i<r;){const s=x[i++];if(!(s&128))n.push(s);else if((s&224)===192){const l=x[i++]&63;n.push((s&31)<<6|l)}else if((s&240)===224){const l=x[i++]&63,f=x[i++]&63;n.push((s&31)<<12|l<<6|f)}else if((s&248)===240){const l=x[i++]&63,f=x[i++]&63,h=x[i++]&63;let p=(s&7)<<18|l<<12|f<<6|h;p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|p&1023),n.push(p)}else n.push(s);n.length>=4096&&(t+=F.apply(String,n),n.length=0)}return n.length>0&&(t+=F.apply(String,n)),t}function Ne(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=M();return O.freezeData?Object.freeze(t):t}function Pe(e){if(O.mapsAsObjects){let t={};for(let r=0;r<e;r++){let n=Ge();n==="__proto__"&&(n="__proto_"),t[n]=M()}return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(M(),M());return t}}var F=String.fromCharCode;function Qe(e){let t=i,r=new Array(e);for(let n=0;n<e;n++){const s=x[i++];if((s&128)>0){i=t;return}r[n]=s}return F.apply(String,r)}function Be(e){if(e<4)if(e<2){if(e===0)return"";{let t=x[i++];if((t&128)>1){i-=1;return}return F(t)}}else{let t=x[i++],r=x[i++];if((t&128)>0||(r&128)>0){i-=2;return}if(e<3)return F(t,r);let n=x[i++];if((n&128)>0){i-=3;return}return F(t,r,n)}else{let t=x[i++],r=x[i++],n=x[i++],s=x[i++];if((t&128)>0||(r&128)>0||(n&128)>0||(s&128)>0){i-=4;return}if(e<6){if(e===4)return F(t,r,n,s);{let l=x[i++];if((l&128)>0){i-=5;return}return F(t,r,n,s,l)}}else if(e<8){let l=x[i++],f=x[i++];if((l&128)>0||(f&128)>0){i-=6;return}if(e<7)return F(t,r,n,s,l,f);let h=x[i++];if((h&128)>0){i-=7;return}return F(t,r,n,s,l,f,h)}else{let l=x[i++],f=x[i++],h=x[i++],p=x[i++];if((l&128)>0||(f&128)>0||(h&128)>0||(p&128)>0){i-=8;return}if(e<10){if(e===8)return F(t,r,n,s,l,f,h,p);{let w=x[i++];if((w&128)>0){i-=9;return}return F(t,r,n,s,l,f,h,p,w)}}else if(e<12){let w=x[i++],S=x[i++];if((w&128)>0||(S&128)>0){i-=10;return}if(e<11)return F(t,r,n,s,l,f,h,p,w,S);let I=x[i++];if((I&128)>0){i-=11;return}return F(t,r,n,s,l,f,h,p,w,S,I)}else{let w=x[i++],S=x[i++],I=x[i++],R=x[i++];if((w&128)>0||(S&128)>0||(I&128)>0||(R&128)>0){i-=12;return}if(e<14){if(e===12)return F(t,r,n,s,l,f,h,p,w,S,I,R);{let N=x[i++];if((N&128)>0){i-=13;return}return F(t,r,n,s,l,f,h,p,w,S,I,R,N)}}else{let N=x[i++],K=x[i++];if((N&128)>0||(K&128)>0){i-=14;return}if(e<15)return F(t,r,n,s,l,f,h,p,w,S,I,R,N,K);let J=x[i++];if((J&128)>0){i-=15;return}return F(t,r,n,s,l,f,h,p,w,S,I,R,N,K,J)}}}}}function Me(){let e=x[i++],t;if(e<192)t=e-160;else switch(e){case 217:t=x[i++];break;case 218:t=E.getUint16(i),i+=2;break;case 219:t=E.getUint32(i),i+=4;break;default:throw new Error("Expected string")}return he(t)}function Ee(e){return O.copyBuffers?Uint8Array.prototype.slice.call(x,i,i+=e):x.subarray(i,i+=e)}function le(e){let t=x[i++];if(W[t]){let r;return W[t](x.subarray(i,r=i+=e),n=>{i=n;try{return M()}finally{i=r}})}else throw new Error("Unknown extension type "+t)}var Re=new Array(4096);function Ge(){let e=x[i++];if(e>=160&&e<192){if(e=e-160,ee>=i)return se.slice(i-Y,(i+=e)-Y);if(!(ee==0&&Z<180))return ve(e)}else return i--,Ye(M());let t=(e<<5^(e>1?E.getUint16(i):e>0?x[i]:0))&4095,r=Re[t],n=i,s=i+e-3,l,f=0;if(r&&r.bytes==e){for(;n<s;){if(l=E.getUint32(n),l!=r[f++]){n=1879048192;break}n+=4}for(s+=3;n<s;)if(l=x[n++],l!=r[f++]){n=1879048192;break}if(n===s)return i=n,r.string;s-=3,n=i}for(r=[],Re[t]=r,r.bytes=e;n<s;)l=E.getUint32(n),r.push(l),n+=4;for(s+=3;n<s;)l=x[n++],r.push(l);let h=e<16?Be(e):Qe(e);return h!=null?r.string=h:r.string=ve(e)}function Ye(e){if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";throw new Error("Invalid property type for record",typeof e)}const je=(e,t)=>{let r=M().map(Ye),n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let s=v[e];return s&&(s.isShared||ie)&&((v.restoreStructures||(v.restoreStructures=[]))[e]=s),v[e]=r,r.read=_e(r,n),r.read()};W[0]=()=>{};W[0].noBuffer=!0;W[66]=e=>{let t=e.length,r=BigInt(e[0]&128?e[0]-256:e[0]);for(let n=1;n<t;n++)r<<=BigInt(8),r+=BigInt(e[n]);return r};let xt={Error,TypeError,ReferenceError};W[101]=()=>{let e=M();return(xt[e[0]]||Error)(e[1],{cause:e[2]})};W[105]=e=>{if(O.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=E.getUint32(i-4);te||(te=new Map);let r=x[i],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let s={target:n};te.set(t,s);let l=M();return s.used?Object.assign(n,l):(s.target=l,l)};W[112]=e=>{if(O.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=E.getUint32(i-4),r=te.get(t);return r.used=!0,r.target};W[115]=()=>new Set(M());const Ze=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let pt=typeof globalThis=="object"?globalThis:window;W[116]=e=>{let t=e[0],r=Ze[t];if(!r){if(t===16){let n=new ArrayBuffer(e.length-1);return new Uint8Array(n).set(e.subarray(1)),n}throw new Error("Could not find typed array for code "+t)}return new pt[r](Uint8Array.prototype.slice.call(e,1).buffer)};W[120]=()=>{let e=M();return new RegExp(e[0],e[1])};const bt=[];W[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=i;return i+=t-e.length,q=bt,q=[Me(),Me()],q.position0=0,q.position1=0,q.postBundlePosition=i,i=r,M()};W[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function Xe(e){let t=Z,r=i,n=Y,s=ee,l=se,f=te,h=q,p=new Uint8Array(x.slice(0,Z)),w=v,S=v.slice(0,v.length),I=O,R=ie,N=e();return Z=t,i=r,Y=n,ee=s,se=l,te=f,q=h,x=p,ie=R,v=w,v.splice(0,v.length,...S),O=I,E=new DataView(x.buffer,x.byteOffset,x.byteLength),N}function ke(){x=null,te=null,v=null}const Ue=new Array(147);for(let e=0;e<256;e++)Ue[e]=+("1e"+Math.floor(45.15-e*.30103));var ye=new ce({useRecords:!1});ye.unpack;ye.unpackMultiple;ye.unpack;let yt=new Float32Array(1);new Uint8Array(yt.buffer,0,4);let xe;try{xe=new TextEncoder}catch(e){}let Ae,et;const we=typeof Buffer!="undefined",me=we?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,tt=we?Buffer:Uint8Array,Ve=we?4294967296:2144337920;let c,de,C,o=0,H,D=null,wt;const St=21760,Et=/[\u0080-\uFFFF]/,ae=Symbol("record-id");class Tt extends ce{constructor(t){super(t),this.offset=0;let r,n,s,l,f=tt.prototype.utf8Write?function(a,g){return c.utf8Write(a,g,c.byteLength-g)}:xe&&xe.encodeInto?function(a,g){return xe.encodeInto(a,c.subarray(g)).written}:!1,h=this;t||(t={});let p=t&&t.sequential,w=t.structures||t.saveStructures,S=t.maxSharedStructures;if(S==null&&(S=w?32:0),S>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let I=t.maxOwnStructures;I==null&&(I=w?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let R=S>32||I+S>64,N=S+64,K=S+I+64;if(K>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let J=[],oe=0,re=0;this.pack=this.encode=function(a,g){if(c||(c=new me(8192),C=c.dataView||(c.dataView=new DataView(c.buffer,0,8192)),o=0),H=c.length-10,H-o<2048?(c=new me(c.length),C=c.dataView||(c.dataView=new DataView(c.buffer,0,c.length)),H=c.length-10,o=0):o=o+7&2147483640,r=o,g&Ut&&(o+=g&255),l=h.structuredClone?new Map:null,h.bundleStrings&&typeof a!="string"?(D=[],D.size=1/0):D=null,s=h.structures,s){s.uninitialized&&(s=h._mergeStructures(h.getStructures()));let u=s.sharedLength||0;if(u>S)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+s.sharedLength);if(!s.transitions){s.transitions=Object.create(null);for(let m=0;m<u;m++){let b=s[m];if(!b)continue;let A,y=s.transitions;for(let U=0,L=b.length;U<L;U++){let X=b[U];A=y[X],A||(A=y[X]=Object.create(null)),y=A}y[ae]=m+64}this.lastNamedStructuresLength=u}p||(s.nextId=u+64)}n&&(n=!1);let d;try{h.randomAccessStructure&&a&&a.constructor&&a.constructor===Object?k(a):T(a);let u=D;if(D&&qe(r,T,0),l&&l.idsToInsert){let m=l.idsToInsert.sort((U,L)=>U.offset>L.offset?1:-1),b=m.length,A=-1;for(;u&&b>0;){let U=m[--b].offset+r;U<u.stringsPosition+r&&A===-1&&(A=0),U>u.position+r?A>=0&&(A+=6):(A>=0&&(C.setUint32(u.position+r,C.getUint32(u.position+r)+A),A=-1),u=u.previous,b++)}A>=0&&u&&C.setUint32(u.position+r,C.getUint32(u.position+r)+A),o+=m.length*6,o>H&&B(o),h.offset=o;let y=kt(c.subarray(r,o),m);return l=null,y}return h.offset=o,g&_t?(c.start=r,c.end=o,c):c.subarray(r,o)}catch(u){throw d=u,u}finally{if(s&&(fe(),n&&h.saveStructures)){let u=s.sharedLength||0,m=c.subarray(r,o),b=At(s,h);if(!d)return h.saveStructures(b,b.isCompatible)===!1?h.pack(a,g):(h.lastNamedStructuresLength=u,c.length>1073741824&&(c=null),m)}c.length>1073741824&&(c=null),g&Bt&&(o=r)}};const fe=()=>{re<10&&re++;let a=s.sharedLength||0;if(s.length>a&&!p&&(s.length=a),oe>1e4)s.transitions=null,re=0,oe=0,J.length>0&&(J=[]);else if(J.length>0&&!p){for(let g=0,d=J.length;g<d;g++)J[g][ae]=0;J=[]}},_=a=>{var g=a.length;g<16?c[o++]=144|g:g<65536?(c[o++]=220,c[o++]=g>>8,c[o++]=g&255):(c[o++]=221,C.setUint32(o,g),o+=4);for(let d=0;d<g;d++)T(a[d])},T=a=>{o>H&&(c=B(o));var g=typeof a,d;if(g==="string"){let u=a.length;if(D&&u>=4&&u<4096){if((D.size+=u)>St){let y,U=(D[0]?D[0].length*3+D[1].length:0)+10;o+U>H&&(c=B(o+U));let L;D.position?(L=D,c[o]=200,o+=3,c[o++]=98,y=o-r,o+=4,qe(r,T,0),C.setUint16(y+r-3,o-r-y)):(c[o++]=214,c[o++]=98,y=o-r,o+=4),D=["",""],D.previous=L,D.size=0,D.position=y}let A=Et.test(a);D[A?0:1]+=a,c[o++]=193,T(A?-u:u);return}let m;u<32?m=1:u<256?m=2:u<65536?m=3:m=5;let b=u*3;if(o+b>H&&(c=B(o+b)),u<64||!f){let A,y,U,L=o+m;for(A=0;A<u;A++)y=a.charCodeAt(A),y<128?c[L++]=y:y<2048?(c[L++]=y>>6|192,c[L++]=y&63|128):(y&64512)===55296&&((U=a.charCodeAt(A+1))&64512)===56320?(y=65536+((y&1023)<<10)+(U&1023),A++,c[L++]=y>>18|240,c[L++]=y>>12&63|128,c[L++]=y>>6&63|128,c[L++]=y&63|128):(c[L++]=y>>12|224,c[L++]=y>>6&63|128,c[L++]=y&63|128);d=L-o-m}else d=f(a,o+m);d<32?c[o++]=160|d:d<256?(m<2&&c.copyWithin(o+2,o+1,o+1+d),c[o++]=217,c[o++]=d):d<65536?(m<3&&c.copyWithin(o+3,o+2,o+2+d),c[o++]=218,c[o++]=d>>8,c[o++]=d&255):(m<5&&c.copyWithin(o+5,o+3,o+3+d),c[o++]=219,C.setUint32(o,d),o+=4),o+=d}else if(g==="number")if(a>>>0===a)a<32||a<128&&this.useRecords===!1||a<64&&!this.randomAccessStructure?c[o++]=a:a<256?(c[o++]=204,c[o++]=a):a<65536?(c[o++]=205,c[o++]=a>>8,c[o++]=a&255):(c[o++]=206,C.setUint32(o,a),o+=4);else if(a>>0===a)a>=-32?c[o++]=256+a:a>=-128?(c[o++]=208,c[o++]=a+256):a>=-32768?(c[o++]=209,C.setInt16(o,a),o+=2):(c[o++]=210,C.setInt32(o,a),o+=4);else{let u;if((u=this.useFloat32)>0&&a<4294967296&&a>=-2147483648){c[o++]=202,C.setFloat32(o,a);let m;if(u<4||(m=a*Ue[(c[o]&127)<<1|c[o+1]>>7])>>0===m){o+=4;return}else o--}c[o++]=203,C.setFloat64(o,a),o+=8}else if(g==="object"||g==="function")if(!a)c[o++]=192;else{if(l){let m=l.get(a);if(m){if(!m.id){let b=l.idsToInsert||(l.idsToInsert=[]);m.id=b.push(m)}c[o++]=214,c[o++]=112,C.setUint32(o,m.id),o+=4;return}else l.set(a,{offset:o-r})}let u=a.constructor;if(u===Object)j(a);else if(u===Array)_(a);else if(u===Map)if(this.mapAsEmptyObject)c[o++]=128;else{d=a.size,d<16?c[o++]=128|d:d<65536?(c[o++]=222,c[o++]=d>>8,c[o++]=d&255):(c[o++]=223,C.setUint32(o,d),o+=4);for(let[m,b]of a)T(m),T(b)}else{for(let m=0,b=Ae.length;m<b;m++){let A=et[m];if(a instanceof A){let y=Ae[m];if(y.write){y.type&&(c[o++]=212,c[o++]=y.type,c[o++]=0);let ue=y.write.call(this,a);ue===a?Array.isArray(a)?_(a):j(a):T(ue);return}let U=c,L=C,X=o;c=null;let ne;try{ne=y.pack.call(this,a,ue=>(c=U,U=null,o+=ue,o>H&&B(o),{target:c,targetView:C,position:o-ue}),T)}finally{U&&(c=U,C=L,o=X,H=c.length-10)}ne&&(ne.length+o>H&&B(ne.length+o),o=vt(ne,c,o,y.type));return}}if(Array.isArray(a))_(a);else{if(a.toJSON){const m=a.toJSON();if(m!==a)return T(m)}if(g==="function")return T(this.writeFunction&&this.writeFunction(a));j(a)}}}else if(g==="boolean")c[o++]=a?195:194;else if(g==="bigint"){if(a<BigInt(1)<<BigInt(63)&&a>=-(BigInt(1)<<BigInt(63)))c[o++]=211,C.setBigInt64(o,a);else if(a<BigInt(1)<<BigInt(64)&&a>0)c[o++]=207,C.setBigUint64(o,a);else if(this.largeBigIntToFloat)c[o++]=203,C.setFloat64(o,Number(a));else{if(this.largeBigIntToString)return T(a.toString());if(this.useBigIntExtension&&a<BigInt(2)**BigInt(1023)&&a>-(BigInt(2)**BigInt(1023))){c[o++]=199,o++,c[o++]=66;let u=[],m;do{let b=a&BigInt(255);m=(b&BigInt(128))===(a<BigInt(0)?BigInt(128):BigInt(0)),u.push(b),a>>=BigInt(8)}while(!((a===BigInt(0)||a===BigInt(-1))&&m));c[o-2]=u.length;for(let b=u.length;b>0;)c[o++]=Number(u[--b]);return}else throw new RangeError(a+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}o+=8}else if(g==="undefined")this.encodeUndefinedAsNil?c[o++]=192:(c[o++]=212,c[o++]=0,c[o++]=0);else throw new Error("Unknown type: "+g)},z=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?a=>{let g;if(this.skipValues){g=[];for(let m in a)(typeof a.hasOwnProperty!="function"||a.hasOwnProperty(m))&&!this.skipValues.includes(a[m])&&g.push(m)}else g=Object.keys(a);let d=g.length;d<16?c[o++]=128|d:d<65536?(c[o++]=222,c[o++]=d>>8,c[o++]=d&255):(c[o++]=223,C.setUint32(o,d),o+=4);let u;if(this.coercibleKeyAsNumber)for(let m=0;m<d;m++){u=g[m];let b=Number(u);T(isNaN(b)?u:b),T(a[u])}else for(let m=0;m<d;m++)T(u=g[m]),T(a[u])}:a=>{c[o++]=222;let g=o-r;o+=2;let d=0;for(let u in a)(typeof a.hasOwnProperty!="function"||a.hasOwnProperty(u))&&(T(u),T(a[u]),d++);if(d>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');c[g+++r]=d>>8,c[g+r]=d&255},G=this.useRecords===!1?z:t.progressiveRecords&&!R?a=>{let g,d=s.transitions||(s.transitions=Object.create(null)),u=o++-r,m;for(let b in a)if(typeof a.hasOwnProperty!="function"||a.hasOwnProperty(b)){if(g=d[b],g)d=g;else{let A=Object.keys(a),y=d;d=s.transitions;let U=0;for(let L=0,X=A.length;L<X;L++){let ne=A[L];g=d[ne],g||(g=d[ne]=Object.create(null),U++),d=g}u+r+1==o?(o--,V(d,A,U)):P(d,A,u,U),m=!0,d=y[b]}T(a[b])}if(!m){let b=d[ae];b?c[u+r]=b:P(d,Object.keys(a),u,0)}}:a=>{let g,d=s.transitions||(s.transitions=Object.create(null)),u=0;for(let b in a)(typeof a.hasOwnProperty!="function"||a.hasOwnProperty(b))&&(g=d[b],g||(g=d[b]=Object.create(null),u++),d=g);let m=d[ae];m?m>=96&&R?(c[o++]=((m-=96)&31)+96,c[o++]=m>>5):c[o++]=m:V(d,d.__keys__||Object.keys(a),u);for(let b in a)(typeof a.hasOwnProperty!="function"||a.hasOwnProperty(b))&&T(a[b])},Q=typeof this.useRecords=="function"&&this.useRecords,j=Q?a=>{Q(a)?G(a):z(a)}:G,B=a=>{let g;if(a>16777216){if(a-r>Ve)throw new Error("Packed buffer would be larger than maximum buffer size");g=Math.min(Ve,Math.round(Math.max((a-r)*(a>67108864?1.25:2),4194304)/4096)*4096)}else g=(Math.max(a-r<<2,c.length-1)>>12)+1<<12;let d=new me(g);return C=d.dataView||(d.dataView=new DataView(d.buffer,0,g)),a=Math.min(a,c.length),c.copy?c.copy(d,0,r,a):d.set(c.slice(r,a)),o-=r,r=0,H=d.length-10,c=d},V=(a,g,d)=>{let u=s.nextId;u||(u=64),u<N&&this.shouldShareStructure&&!this.shouldShareStructure(g)?(u=s.nextOwnId,u<K||(u=N),s.nextOwnId=u+1):(u>=K&&(u=N),s.nextId=u+1);let m=g.highByte=u>=96&&R?u-96>>5:-1;a[ae]=u,a.__keys__=g,s[u-64]=g,u<N?(g.isShared=!0,s.sharedLength=u-63,n=!0,m>=0?(c[o++]=(u&31)+96,c[o++]=m):c[o++]=u):(m>=0?(c[o++]=213,c[o++]=114,c[o++]=(u&31)+96,c[o++]=m):(c[o++]=212,c[o++]=114,c[o++]=u),d&&(oe+=re*d),J.length>=I&&(J.shift()[ae]=0),J.push(a),T(g))},P=(a,g,d,u)=>{let m=c,b=o,A=H,y=r;c=de,o=0,r=0,c||(de=c=new me(8192)),H=c.length-10,V(a,g,u),de=c;let U=o;if(c=m,o=b,H=A,r=y,U>1){let L=o+U-1;L>H&&B(L);let X=d+r;c.copyWithin(X+U,X+1,o),c.set(de.slice(0,U),X),o=L}else c[d+r]=de[0]},k=a=>{let g=wt(a,c,r,o,s,B,(d,u,m)=>{if(m)return n=!0;o=u;let b=c;return T(d),fe(),b!==c?{position:o,targetView:C,target:c}:o},this);if(g===0)return j(a);o=g}}useBuffer(t){c=t,c.dataView||(c.dataView=new DataView(c.buffer,c.byteOffset,c.byteLength)),o=0}set position(t){o=t}get position(){return o}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}et=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Je];Ae=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:s,targetView:l,position:f}=t(6);s[f++]=214,s[f++]=255,l.setUint32(f,n)}else if(n>0&&n<4294967296){let{target:s,targetView:l,position:f}=t(10);s[f++]=215,s[f++]=255,l.setUint32(f,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),l.setUint32(f+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:s,targetView:l,position:f}=t(3);s[f++]=212,s[f++]=255,s[f++]=255}else{let{target:s,targetView:l,position:f}=t(15);s[f++]=199,s[f++]=12,s[f++]=255,l.setUint32(f,e.getMilliseconds()*1e6),l.setBigInt64(f+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){if(this.setAsEmptyObject)return t(0),r({});let n=Array.from(e),{target:s,position:l}=t(this.moreTypes?3:0);this.moreTypes&&(s[l++]=212,s[l++]=115,s[l++]=0),r(n)}},{pack(e,t,r){let{target:n,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(n[s++]=212,n[s++]=101,n[s++]=0),r([e.name,e.message,e.cause])}},{pack(e,t,r){let{target:n,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(n[s++]=212,n[s++]=120,n[s++]=0),r([e.source,e.flags])}},{pack(e,t){this.moreTypes?$e(e,16,t):Fe(we?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==tt&&this.moreTypes?$e(e,Ze.indexOf(r.name),t):Fe(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];function $e(e,t,r,n){let s=e.byteLength;if(s+1<256){var{target:l,position:f}=r(4+s);l[f++]=199,l[f++]=s+1}else if(s+1<65536){var{target:l,position:f}=r(5+s);l[f++]=200,l[f++]=s+1>>8,l[f++]=s+1&255}else{var{target:l,position:f,targetView:h}=r(7+s);l[f++]=201,h.setUint32(f,s+1),f+=4}l[f++]=116,l[f++]=t,e.buffer||(e=new Uint8Array(e)),l.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),f)}function Fe(e,t){let r=e.byteLength;var n,s;if(r<256){var{target:n,position:s}=t(r+2);n[s++]=196,n[s++]=r}else if(r<65536){var{target:n,position:s}=t(r+3);n[s++]=197,n[s++]=r>>8,n[s++]=r&255}else{var{target:n,position:s,targetView:l}=t(r+5);n[s++]=198,l.setUint32(s,r),s+=4}n.set(e,s)}function vt(e,t,r,n){let s=e.length;switch(s){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:s<256?(t[r++]=199,t[r++]=s):s<65536?(t[r++]=200,t[r++]=s>>8,t[r++]=s&255):(t[r++]=201,t[r++]=s>>24,t[r++]=s>>16&255,t[r++]=s>>8&255,t[r++]=s&255)}return t[r++]=n,t.set(e,r),r+=s,r}function kt(e,t){let r,n=t.length*6,s=e.length-n;for(;r=t.pop();){let l=r.offset,f=r.id;e.copyWithin(l+n,l,s),n-=6;let h=l+n;e[h++]=214,e[h++]=105,e[h++]=f>>24,e[h++]=f>>16&255,e[h++]=f>>8&255,e[h++]=f&255,s=l}return e}function qe(e,t,r){if(D.length>0){C.setUint32(D.position+e,o+r-D.position-e),D.stringsPosition=o-e;let n=D;D=null,t(n[0]),t(n[1])}}function At(e,t){return e.isCompatible=r=>{let n=!r||(t.lastNamedStructuresLength||0)===r.length;return n||t._mergeStructures(r),n},e}let rt=new Tt({useRecords:!1});rt.pack;rt.pack;const _t=512,Bt=1024,Ut=2048;var Se=(e,t,r)=>new Promise((n,s)=>{var l=p=>{try{h(r.next(p))}catch(w){s(w)}},f=p=>{try{h(r.throw(p))}catch(w){s(w)}},h=p=>p.done?n(p.value):Promise.resolve(p.value).then(l,f);h((r=r.apply(e,t)).next())});const Lt=new ce({largeBigIntToFloat:!0,mapsAsObjects:!0,bundleStrings:!0,int64AsType:"number"});var Ct=(e=>(e[e.ID=0]="ID",e[e.NAME=1]="NAME",e[e.C1_NAME=2]="C1_NAME",e[e.C2_NAME=3]="C2_NAME",e[e.START=4]="START",e[e.END=5]="END",e[e.C1_ID=6]="C1_ID",e[e.C2_ID=7]="C2_ID",e[e.WIKI=8]="WIKI",e[e.STATUS=9]="STATUS",e[e.CB=10]="CB",e[e.POSTS=11]="POSTS",e[e.SOURCE=12]="SOURCE",e[e.CATEGORY=13]="CATEGORY",e[e.WARS=14]="WARS",e[e.ACTIVE_WARS=15]="ACTIVE_WARS",e[e.C1_DEALT=16]="C1_DEALT",e[e.C2_DEALT=17]="C2_DEALT",e[e.TOTAL=18]="TOTAL",e))(Ct||{});const tr={CSV:{delimiter:",",ext:"csv",mime:"text/csv"},TSV:{delimiter:"	",ext:"csv",mime:"text/tab-separated-values"}};function rr(e,t,r){var n=$(e).DataTable();const s=[],l=new Set;n.columns().every(function(h){if(n.column(h).visible()){if(h==0)return;s.push(n.column(h).header().textContent||"name"),console.log(n.column(h+1).header().textContent||"name"),l.add(h)}});const f=[s];n.rows({search:"applied"}).every(function(h){const p=[];this.data().forEach((w,S)=>{l.has(S+1)&&p.push(w)}),f.push(p)}),console.log(JSON.stringify(f)),Ot(f,t,r)}function Ot(e,t,r){let n=(t?"":"sep="+r.delimiter+`
`)+e.map(s=>s.join(r.delimiter)).join(`
`);if(t)navigator.clipboard.writeText(n).then(()=>{console.log("Copied to clipboard")}).catch(s=>{console.error("Failed to copy to clipboard",s)}),be("Copied to clipboard","The data for the currently selected columns has been copied to your clipboard.");else{let s=new Blob([n],{type:r.mime+";charset=utf-8;"}),l=document.createElement("a");if(l.download!==void 0){let f=URL.createObjectURL(s);l.setAttribute("href",f),l.setAttribute("download","data."+r.ext),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}be("Download starting","The data for the currently selected columns should begind downloading. If the download does not start, please check your browser settings, or try the clipboard button instead")}}const nr={soldier:15e3,tank:1250,aircraft:75,ship:15,infra:1};function sr(e){return e.includes("_value")&&(e="~$"+e.replace("_value","")),e.includes("_loss")&&(e=e.replace("_loss","")),e.includes("loss_")&&(e=e.replace("loss_","")),e==="~$loss"&&(e="damage"),e.replaceAll("_"," ")}var nt=(e=>(e[e.REDS=0]="REDS",e[e.BLUES=1]="BLUES",e[e.GREENS=2]="GREENS",e[e.NEUTRALS=3]="NEUTRALS",e))(nt||{});const Dt={0:["128,0,0","128,128,0","139,0,0","139,69,19","160,82,45","165,42,42","178,34,34","184,134,11","188,143,143","189,183,107","199,21,133","205,133,63","205,92,92","210,105,30","210,180,140","218,112,214","218,165,32","219,112,147","220,20,60","222,184,135","233,150,122","238,232,170","240,128,128","240,230,140","244,164,96","245,222,179","245,245,220","250,128,114","250,235,215","250,240,230","250,250,210","253,245,230","255,0,0","255,105,180","255,127,80","255,140,0","255,160,122","255,165,0","255,182,193","255,192,203","255,20,147","255,215,0","255,218,185","255,222,173","255,228,181","255,228,196","255,228,225","255,235,205","255,239,213","255,250,205","255,255,0","255,69,0","255,99,71"],1:["0,0,128","0,0,139","0,0,205","0,0,255","0,128,128","0,139,139","0,191,255","0,206,209","0,255,255","0,255,255","100,149,237","106,90,205","112,128,144","119,136,153","123,104,238","135,206,235","135,206,250","138,43,226","147,112,219","148,0,211","153,50,204","173,216,230","175,238,238","176,196,222","176,224,230","186,85,211","230,230,250","25,25,112","30,144,255","47,79,79","65,105,225","70,130,180","72,61,139","75,0,130","95,158,160"],2:["0,100,0","0,128,0","0,250,154","0,255,0","0,255,127","102,205,170","107,142,35","124,252,0","127,255,0","127,255,212","143,188,143","144,238,144","152,251,152","154,205,50","173,255,47","32,178,170","34,139,34","46,139,87","50,205,50","60,179,113","64,224,208","72,209,204","85,107,47"],3:["0,0,0","105,105,105","128,0,128","128,128,128","139,0,139","169,169,169","192,192,192","211,211,211","216,191,216","220,220,220","221,160,221","238,130,238","245,245,245","255,0,255","255,0,255","255,255,255"]},ir=["255,0,0","0,0,255","0,255,0","128,128,128"];function lr(e,t){let r=e.match(/\d+/g);if(!r)throw new Error("Invalid color format");let[n,s,l]=r.map(Number);return n=Math.floor(n*(1-t/100)),s=Math.floor(s*(1-t/100)),l=Math.floor(l*(1-t/100)),`rgb(${n}, ${s}, ${l})`}function It(e){return e.map(t=>{let[r,n,s]=t.split(",");return`rgb(${r}, ${n}, ${s})`})}function Nt(e,t,r){let n=[],s=e.scaleSequential().domain([0,t]).interpolator(e.interpolateRgbBasisClosed(It(Dt[r])));for(let l=0;l<t;l++)n.push(s(l));return n}function or(e,t){let r=new Array(Object.keys(nt).length).fill(0);for(const l of t)r[l]++;let n=new Array(r.length).fill([]);for(const l of t){let f=l,h=r[f];if(h>0){let p=Nt(e,h,f);n[f]=p}}r.fill(0);let s=[];for(const l of t){let f=l,h=r[f]++,p=n[f];s.push(p[h])}return s}function Pt(e){if(e==null||e==-1)return"N/A";let r=new Date(e).toISOString().slice(0,16).replace("T"," ");return r.endsWith("00:00")?r.slice(0,10):r}function ar(e){return Rt(e*12)}function Mt(e){let t=~~(e/31536e3),r=~~((e-t*31536e3)/604800),n=~~((e-t*31536e3-r*604800)/86400),s=~~((e-t*31536e3-r*604800-n*86400)/3600),l=~~((e-t*31536e3-r*604800-n*86400-s*3600)/60),f=e-t*31536e3-r*604800-n*86400-s*3600-l*60,h=["year","week","day","hour","minute","second"];return[t,r,n,s,l,f].map((p,w)=>p?`${p} ${h[w]}${p!==1?"s":""}`:"").filter(p=>p).join(", ").replace(/,([^,]*)$/," and$1")}function Rt(e){let t=e/12*60*60*24*1e3,r=new Date;r.setTime(t);let n=r.toISOString().slice(0,16).replace("T"," ");return n.endsWith("00:00")?n.slice(0,10):n}function ze(e){for(var t=(""+(e<0?-e:e)).split("."),r=t[0],n,s=n=r.length,l="";s--;)l=(s===0||(n-s)%3?"":",")+r.charAt(s)+l;return(e<0?"-":"")+l+(t[1]?"."+t[1]:"")}function cr(){window.formatNumber=(e,t,r,n)=>e==0?"0":e<1e3&&e>-1e3?e.toString():ze(e),window.formatMoney=(e,t,r,n)=>e==0?"$0":e<1e3&&e>-1e3?"$"+e.toString():"$"+ze(e),window.formatDate=(e,t,r,n)=>Pt(e),window.showNames=(e,t)=>{let r=window.getIds(e,t),n=r.alliance_ids;var s="Coalition "+(t+1)+": "+e;let l=document.createElement("ul");for(let S=0;S<n.length;S++){let I=n[S],R=r.alliance_names[S];R==null&&(R="N/A");let N=document.createElement("a");N.setAttribute("href","https://politicsandwar.com/alliance/id="+I),N.textContent=R;let K=document.createElement("li");K.appendChild(N),l.appendChild(K)}let f=document.createElement("div"),h=document.createElement("kbd"),p=n.join(",");h.textContent=p,h.setAttribute("readonly","true"),h.setAttribute("class","form-control m-0"),f.appendChild(h);let w=`<button class='btn btn-outline-info btn-sm position-absolute top-0 end-0 m-3' onclick='copyToClipboard("`+p+`")'><i class='bi bi-clipboard'></i></button>`;f.innerHTML+=w,f.appendChild(l),st(s,f)},window.copyToClipboard=e=>{navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")}).catch(t=>{alert("Failed to copy to clipboard"+t)})}}function jt(e){return Se(this,null,function*(){const t=e.getReader(),r=[];let n;for(;!(n!=null&&n.done);)n=yield t.read(),n.done||r.push(new Uint8Array(n.value));let s=r.reduce((h,p)=>h+p.length,0),l=new Uint8Array(s),f=0;for(let h of r)l.set(h,f),f+=h.length;return l})}const Vt=e=>Se(void 0,null,function*(){let t=Date.now();const r=new DecompressionStream("gzip"),n=yield fetch(e);if(console.log("Fetch time: "+(Date.now()-t)+"ms"),t=Date.now(),!n.body)throw new Error("Response body is null");const s=n.body.pipeThrough(r),l=yield new Response(s).blob();return console.log("Decompress blob time: "+(Date.now()-t)+"ms"),l}),fr=e=>Se(void 0,null,function*(){let t=Date.now(),r=yield Vt(e);console.log("Decompression time: "+(Date.now()-t)+"ms"),t=Date.now();let n=r.stream(),s=yield jt(n);console.log("Stream to uint8Array time: "+(Date.now()-t)+"ms | len "+s.length),t=Date.now();let l=Lt.unpack(s);return console.log("PSON decode time: "+(Date.now()-t)+"ms"),l});function $t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function pe(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}function be(e,t){let r=document.createElement("div");r.innerHTML=t,st(e,r)}function st(e,t){Ft(e,t,'<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>')}function ur(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])}function Ft(e,t,r){let n=document.getElementById("exampleModal");var s=`<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel"></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                  <div class="modal-body text-break"></div>
                  <div class="modal-footer"></div>
              </div>
          </div>
      </div>`;if(n==null){let h=pe(s);document.body.appendChild(h)}let l=document.getElementById("exampleModal");l.getElementsByClassName("modal-title")[0].innerHTML=e;let f=l.getElementsByClassName("modal-body")[0];f.innerHTML="",f.appendChild(t),l.getElementsByClassName("modal-footer")[0].innerHTML=r,window.bootstrap.Modal.getOrCreateInstance(l).show()}function dr(e,t){e.innerHTML="",qt(e,$t());let r=e.getElementsByTagName("table")[0];return Kt(e,r,t),r}function qt(e,t){const r=`tblCol-${t}`,n=`dropdownMenuButton-${t}`,s=`table-search-${t}`;e.appendChild(pe(`<div class="ux-toolbar">
    <button class="btn ux-btn" type="button" data-bs-toggle="collapse" data-bs-target="#${r}" aria-expanded="false" aria-controls="${r}">
    <i class="bi bi-layout-three-columns"></i>&nbsp;Customize Columns&nbsp;<i class="bi bi-chevron-down"></i></button>
    <div class="dropdown d-inline">
    <button class="btn ux-btn" type="button" id="${n}" data-bs-toggle="dropdown" aria-expanded="false">
    Export&nbsp;<i class="bi bi-chevron-down"></i>
    </button>
    <ul class="dropdown-menu" aria-labelledby="${n}">
    <li><button class="dropdown-item fw-bold" type="button" onclick="download(false, 'CSV')"><kbd><i class="bi bi-download"></i> ,</kbd> Download CSV</button></li>
    <li><button class="dropdown-item fw-bold" type="button" onclick="download(true, 'CSV')"><kbd><i class="bi bi-copy"></i> ,</kbd> Copy CSV</button></li>
    <li><button class="dropdown-item fw-bold" type="button" onclick="download(false, 'TSV')"><kbd><i class="bi bi-download"></i><i class="bi bi-indent"></i></kbd> Download TSV</button></li>
    <li><button class="dropdown-item fw-bold" type="button" onclick="download(true, 'TSV')"><kbd><i class="bi bi-copy"></i><i class="bi bi-indent"></i></kbd> Copy TSV</button></li>
    </ul>
    </div>
    </div>`)),e.appendChild(pe(`<div class="collapse table-toggles mb-2" id="${r}">
    <input id="${s}" class="form-control-sm w-100 mb-2" type="search" placeholder="Search columns" aria-label="Search columns">
    <div class="ux-callout mb-2">
            Use the buttons at the bottom of the table to hide/show columns. Drag the header to reorder columns.
    </div>
    </div>`)),e.appendChild(pe(`<div class="ux-table-wrap"><table id="${t}" class="bg-body-secondary border table compact table-bordered table-striped d-none" style="width:100%">
        <thead class="table-info"><tr></tr></thead>
        <tbody></tbody>
        <tfoot><tr></tr></tfoot>
    </table></div>`)),e.getElementsByTagName("input")[0].addEventListener("input",function(){var f;let h=e.getElementsByClassName("table-toggles");for(let p=0;p<h.length;p++){let w=h[p].getElementsByTagName("button");for(let S=0;S<w.length;S++)(f=w[S].textContent)!=null&&f.toLowerCase().includes(this.value.toLowerCase())?w[S].classList.remove("d-none"):w[S].classList.add("d-none")}})}function it(e,t,r){let n=new URL(window.location.href),s=n.toString();t==null?n.searchParams.delete(e):n.searchParams.set(e,t);let l=n.toString();s!==l&&(r!=null&&r.replace?window.history.replaceState({},"",l):window.history.pushState({},"",l))}function lt(e){return`lc_stats:view:${window.location.pathname}`}function zt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{const r=e!=null?e:lt(),n=new URLSearchParams(window.location.search),s={};n.forEach((l,f)=>{(t||l!=="")&&(s[f]=l)}),localStorage.setItem(r,JSON.stringify(s))}catch(r){console.warn("Failed to save view preset",r)}}function Jt(e){try{const t=e!=null?e:lt(),r=localStorage.getItem(t);if(!r)return{};const n=JSON.parse(r);return!n||typeof n!="object"?{}:n}catch(t){return console.warn("Failed to read view preset",t),{}}}function hr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;const n=Jt(r);if(!n||Object.keys(n).length===0)return!1;const s=new URL(window.location.href);for(const f of t)if(!s.searchParams.get(f))return!1;let l=!1;for(const f of e){const h=s.searchParams.has(f),p=Object.prototype.hasOwnProperty.call(n,f);if(!h&&p){const w=n[f];w==null||w===""?s.searchParams.delete(f):s.searchParams.set(f,w),l=!0}}return l&&window.history.replaceState({},"",s.toString()),l}function gr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=new URL(window.location.href);for(const s of e)r.searchParams.delete(s);const n={};for(const s of t){const l=r.searchParams.get(s);l!=null&&(n[s]=l)}window.history.replaceState({},"",r.toString()),zt();for(const s of t)n[s]!=null&&it(s,n[s],{replace:!0})}function mr(){return Se(this,null,function*(){const e=window.location.href;try{return yield navigator.clipboard.writeText(e),be("Share link copied","The current page link has been copied to your clipboard."),!0}catch(t){return console.error("Failed to copy share link",t),be("Copy failed","Could not copy the share link. Please copy the URL from your browser address bar."),!1}})}function xr(e,t){let r=`Dataset version: ${e}`;if(t!=null&&!isNaN(t)){const n=Math.max(0,Math.round((Date.now()-t)/1e3));r+=` â€¢ Last updated ${Mt(n)} ago`}return r}function Ht(){return ot(["jqjs"]).then(()=>{if(typeof jQuery=="undefined")return Promise.reject(new Error("jQuery did not load correctly"))})}function Wt(){return ot(["dtjs1","dtjs2","dtjs3"])}function ot(e){return new Promise((t,r)=>{const n=()=>{for(const l of e){const f=document.getElementById(l);if(!f||!f.hasAttribute("data-loaded"))return!1}return!0},s=l=>{l.target.setAttribute("data-loaded","true"),n()&&t()};for(const l of e){const f=document.getElementById(l);if(!f){r(new Error(`Script element with id ${l} not found`));return}f.hasAttribute("data-loaded")||f.addEventListener("load",s)}n()&&t()})}function Kt(e,t,r){Ht().then(()=>{let n=$(t),s=r.visible,l=r.columns,f=r.data,h=r.searchable,p=r.cell_format,w=r.row_format,S=r.sort;S==null&&(S=[0,"asc"]);let I={};if(p!=null)for(let _ in p){let T=p[_];for(let z of T){let G=window[_];I[z]=G,G==null&&console.log("No function found for "+_)}}let R=[];if(l.length>0)for(let _=0;_<l.length;_++){let T={data:_,className:"details-control",defaultContent:""},z=I[_];z!=null&&(T.render=z,(z==window.formatNumber||z==window.formatMoney)&&(T.orderDataType="numeric-comma")),R.push(T)}const N=[null],K=e.querySelector("thead tr"),J=e.querySelector("tfoot tr"),oe=e.querySelector(".table-toggles");function re(_,T){const z=_.closest("th");if(!z||N[0]==null)return;const G=N[0].column(z.cellIndex);G.search()!==_.value&&G.search(_.value).draw()}function fe(_){_.stopPropagation()}if(K&&J&&oe){const _=document.createDocumentFragment(),T=document.createDocumentFragment(),z=document.createElement("th");z.textContent="#",_.appendChild(z);const G=document.createElement("th");T.appendChild(G);for(let Q=0;Q<R.length;Q++){let j=R[Q],B=l[Q];s!=null&&(j.visible=s.includes(Q));const V=document.createElement("th"),P=document.createElement("th");if(B!=null){if(h==null||h.includes(Q)){const k=document.createElement("input");k.type="text",k.placeholder=B,k.style.width="100%",k.addEventListener("keyup",re.bind(null,k)),k.addEventListener("change",re.bind(null,k)),k.addEventListener("clear",re.bind(null,k)),k.addEventListener("click",fe),V.appendChild(k)}else V.textContent=B;if(Q!=0){const k=document.createElement("button");k.className="toggle-vis ux-toggle-btn btn btn-sm fw-bold",k.dataset.column=(Q+1).toString(),k.textContent=B,P.appendChild(k),j.visible||(k.classList.add("is-hidden"),k.oldParent=P,oe.appendChild(k))}}_.appendChild(V),T.appendChild(P)}K.appendChild(_),J.appendChild(T)}Wt().then(()=>{$.fn.dataTableExt.oStdClasses.sWrapper="mt-2 py-2 px-2 dataTables_wrapper";let _=N[0]=n.DataTable({columns:[{data:null,title:"#",orderable:!1,searchable:!1,className:"dt-center p-0",defaultContent:""},...R],colReorder:!0,data:f,paging:!0,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],pageLength:10,deferRender:!0,orderClasses:!1,order:[S],autoWidth:!1,searchHighlight:!1,info:!1,processing:!1,stateSave:!1,scrollX:!1,rowCallback:function(j,B,V,P){$("td:eq(0)",j).html(P+1),w&&w(j,B,P)}});_.on("column-reorder",function(j,B,V){const P=_.page.info(),k=P.page,a=P.length;let g=k*a;n.find("tbody tr").each(function(d){$(this).find("td:eq(0)").text(g+d+1)})});function T(){document.querySelectorAll("button").forEach(B=>{B.addEventListener("click",fe)})}function z(j,B){j.querySelectorAll(".toggle-vis").forEach(P=>{P.addEventListener("click",function(k){k.preventDefault();const a=k.target,g=B.column(a.getAttribute("data-column"));if(g.visible(!g.visible()),a.classList.toggle("is-hidden",!g.visible()),a.parentElement&&a.parentElement.tagName==="TH"){a.oldParent=a.parentElement;const u=j.querySelector(".table-toggles");u.appendChild(a);const m=u.querySelector("input");m&&m.value&&!a.textContent.includes(m.value)&&a.classList.add("d-none")}else a.oldParent.appendChild(a);const d=B.columns().indexes().filter(u=>u>0&&B.column(u).visible()).map(u=>l[u-1]).toArray();it("columns",d.join("."))})})}function G(j){let B="";return _.columns().every(function(V){if(V===0)return;let P=[];p.formatNumber!=null&&P.push(...p.formatNumber),p.formatMoney!=null&&P.push(...p.formatMoney);let k=l[V-1];if(console.log("TITLE "),k!=null&&!_.column(V).visible()){let a=j[V-1];P.includes(V-1)&&(a=a.toLocaleString("en-US")),B+="<tr><td>"+k+"</td><td>"+a+"</td></tr>"}}),B===""&&(B="No extra info"),'<table class="bg-body-secondary table table-striped table-bordered compact" cellspacing="0" border="0">'+B+"</table>"}function Q(j,B){j.querySelector("tbody").addEventListener("click",function(V){const P=V.target;if(P.classList.contains("details-control")){const k=P.closest("tr");if(!k)return;const a=B.row(k);a.child.isShown()?(a.child.hide(),k.classList.remove("shown")):(a.child(G(a.data())).show(),k.classList.add("shown"))}})}T(),z(e,_),Q(t,_),t.classList.remove("d-none")})})}function pr(e,t){let r;return function n(s){r||(r=s),s-r<e?requestAnimationFrame(n):t()}}export{ir as A,Ct as C,tr as E,nt as P,nr as U,hr as a,Rt as b,ar as c,fr as d,ot as e,xr as f,Nt as g,it as h,er as i,mr as j,ur as k,or as l,lr as m,ze as n,pr as o,cr as p,rr as q,gr as r,zt as s,Xt as t,Zt as u,Mt as v,sr as w,dr as x,Pt as y,be as z};
