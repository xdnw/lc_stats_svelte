import{ap as i,u as f,v as a,_ as l,g as o,s as d}from"./runtime.mdILdFMH.js";function p(u,s,e){if(u==null)return s(void 0),i;const n=f(()=>u.subscribe(s,e));return n.unsubscribe?()=>n.unsubscribe():n}let r=!1;function g(u,s,e){var b;const n=(b=e[s])!=null?b:e[s]={store:null,source:l(void 0),unsubscribe:i};if(n.store!==u)if(n.unsubscribe(),n.store=u!=null?u:null,u==null)n.source.v=void 0,n.unsubscribe=i;else{var c=!0;n.unsubscribe=p(u,t=>{c?n.source.v=t:d(n.source,t)}),c=!1}return o(n.source)}function v(){const u={};return a(()=>{for(var s in u)u[s].unsubscribe()}),u}function y(u){var s=r;try{return r=!1,[u(),r]}finally{r=s}}export{g as a,y as c,v as s};
