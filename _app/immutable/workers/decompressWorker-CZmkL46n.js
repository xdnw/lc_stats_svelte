(function(){"use strict";var oe;try{oe=new TextDecoder}catch(t){}var g,F,n=0,A={},U,Z,C=0,J=0,P,q,N=[],b,ke={useRecords:!1,mapsAsObjects:!0};class Be{}const Ee=new Be;Ee.name="MessagePack 0xC1";var X=!1,Ae=2,ve;try{new Function("")}catch(t){Ae=1/0}class Q{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.sequential&&e.trusted!==!1&&(e.trusted=!0,!e.structures&&e.useRecords!=!1&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,r){if(g)return ze(()=>(ge(),this?this.unpack(e,r):Q.prototype.unpack.call(ke,e,r)));!e.buffer&&e.constructor===ArrayBuffer&&(e=typeof Buffer!="undefined"?Buffer.from(e):new Uint8Array(e)),typeof r=="object"?(F=r.end||e.length,n=r.start||0):(n=0,F=r>-1?r:e.length),J=0,Z=null,P=null,g=e;try{b=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(s){throw g=null,e instanceof Uint8Array?s:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof Q){if(A=this,this.structures)return U=this.structures,ne(r);(!U||U.length>0)&&(U=[])}else A=ke,(!U||U.length>0)&&(U=[]);return ne(r)}unpackMultiple(e,r){let s,i=0;try{X=!0;let o=e.length,x=this?this.unpack(e,o):ie.unpack(e,o);if(r){if(r(x,i,n)===!1)return;for(;n<o;)if(i=n,r(ne(),i,n)===!1)return}else{for(s=[x];n<o;)i=n,s.push(ne());return s}}catch(o){throw o.lastPosition=i,o.values=s,o}finally{X=!1,ge()}}_mergeStructures(e,r){e=e||[],Object.isFrozen(e)&&(e=e.map(s=>s.slice(0)));for(let s=0,i=e.length;s<i;s++){let o=e[s];o&&(o.isShared=!0,s>=32&&(o.highByte=s-32>>5))}e.sharedLength=e.length;for(let s in r||[])if(s>=0){let i=e[s],o=r[s];o&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[s]=i),e[s]=o)}return this.structures=e}decode(e,r){return this.unpack(e,r)}}function ne(t){try{if(!A.trusted&&!X){let r=U.sharedLength||0;r<U.length&&(U.length=r)}let e;if(A.randomAccessStructure&&g[n]<64&&g[n]>=32&&ve||(e=R()),P&&(n=P.postBundlePosition,P=null),X&&(U.restoreStructures=null),n==F)U&&U.restoreStructures&&Ie(),U=null,g=null,q&&(q=null);else{if(n>F)throw new Error("Unexpected end of MessagePack data");if(!X){let r;try{r=JSON.stringify(e,(s,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(s){r="(JSON view not available "+s+")"}throw new Error("Data read, but end of buffer not reached "+r)}}return e}catch(e){throw U&&U.restoreStructures&&Ie(),ge(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||n>F)&&(e.incomplete=!0),e}}function Ie(){for(let t in U.restoreStructures)U[t]=U.restoreStructures[t];U.restoreStructures=null}function R(){let t=g[n++];if(t<160)if(t<128){if(t<64)return t;{let e=U[t&63]||A.getStructures&&Te()[t&63];return e?(e.read||(e.read=ce(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,A.mapsAsObjects){let e={};for(let r=0;r<t;r++){let s=Ve();s==="__proto__"&&(s="__proto_"),e[s]=R()}return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(R(),R());return e}else{t-=144;let e=new Array(t);for(let r=0;r<t;r++)e[r]=R();return A.freezeData?Object.freeze(e):e}else if(t<192){let e=t-160;if(J>=n)return Z.slice(n-C,(n+=e)-C);if(J==0&&F<140){let r=e<16?xe(e):Me(e);if(r!=null)return r}return ae(e)}else{let e;switch(t){case 192:return null;case 193:return P?(e=R(),e>0?P[1].slice(P.position1,P.position1+=e):P[0].slice(P.position0,P.position0-=e)):Ee;case 194:return!1;case 195:return!0;case 196:if(e=g[n++],e===void 0)throw new Error("Unexpected end of buffer");return he(e);case 197:return e=b.getUint16(n),n+=2,he(e);case 198:return e=b.getUint32(n),n+=4,he(e);case 199:return G(g[n++]);case 200:return e=b.getUint16(n),n+=2,G(e);case 201:return e=b.getUint32(n),n+=4,G(e);case 202:if(e=b.getFloat32(n),A.useFloat32>2){let r=de[(g[n]&127)<<1|g[n+1]>>7];return n+=4,(r*e+(e>0?.5:-.5)>>0)/r}return n+=4,e;case 203:return e=b.getFloat64(n),n+=8,e;case 204:return g[n++];case 205:return e=b.getUint16(n),n+=2,e;case 206:return e=b.getUint32(n),n+=4,e;case 207:return A.int64AsType==="number"?(e=b.getUint32(n)*4294967296,e+=b.getUint32(n+4)):A.int64AsType==="string"?e=b.getBigUint64(n).toString():A.int64AsType==="auto"?(e=b.getBigUint64(n),e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=b.getBigUint64(n),n+=8,e;case 208:return b.getInt8(n++);case 209:return e=b.getInt16(n),n+=2,e;case 210:return e=b.getInt32(n),n+=4,e;case 211:return A.int64AsType==="number"?(e=b.getInt32(n)*4294967296,e+=b.getUint32(n+4)):A.int64AsType==="string"?e=b.getBigInt64(n).toString():A.int64AsType==="auto"?(e=b.getBigInt64(n),e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=b.getBigInt64(n),n+=8,e;case 212:if(e=g[n++],e==114)return Ne(g[n++]&63);{let r=N[e];if(r)return r.read?(n++,r.read(R())):r.noBuffer?(n++,r()):r(g.subarray(n,++n));throw new Error("Unknown extension "+e)}case 213:return e=g[n],e==114?(n++,Ne(g[n++]&63,g[n++])):G(2);case 214:return G(4);case 215:return G(8);case 216:return G(16);case 217:return e=g[n++],J>=n?Z.slice(n-C,(n+=e)-C):et(e);case 218:return e=b.getUint16(n),n+=2,J>=n?Z.slice(n-C,(n+=e)-C):tt(e);case 219:return e=b.getUint32(n),n+=4,J>=n?Z.slice(n-C,(n+=e)-C):rt(e);case 220:return e=b.getUint16(n),n+=2,_e(e);case 221:return e=b.getUint32(n),n+=4,_e(e);case 222:return e=b.getUint16(n),n+=2,Re(e);case 223:return e=b.getUint32(n),n+=4,Re(e);default:if(t>=224)return t-256;if(t===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+t)}}}const We=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ce(t,e){function r(){if(r.count++>Ae){let i=t.read=new Function("r","return function(){return "+(A.freezeData?"Object.freeze":"")+"({"+t.map(o=>o==="__proto__"?"__proto_:r()":We.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"})}")(R);return t.highByte===0&&(t.read=Oe(e,t.read)),i()}let s={};for(let i=0,o=t.length;i<o;i++){let x=t[i];x==="__proto__"&&(x="__proto_"),s[x]=R()}return A.freezeData?Object.freeze(s):s}return r.count=0,t.highByte===0?Oe(e,r):r}const Oe=(t,e)=>function(){let r=g[n++];if(r===0)return e();let s=t<32?-(t+(r<<5)):t+(r<<5),i=U[s]||Te()[s];if(!i)throw new Error("Record id is not defined for "+s);return i.read||(i.read=ce(i,t)),i.read()};function Te(){let t=ze(()=>(g=null,A.getStructures()));return U=A._mergeStructures(t,U)}var ae=ee,et=ee,tt=ee,rt=ee;function ee(t){let e;if(t<16&&(e=xe(t)))return e;if(t>64&&oe)return oe.decode(g.subarray(n,n+=t));const r=n+t,s=[];for(e="";n<r;){const i=g[n++];if((i&128)===0)s.push(i);else if((i&224)===192){const o=g[n++]&63;s.push((i&31)<<6|o)}else if((i&240)===224){const o=g[n++]&63,x=g[n++]&63;s.push((i&31)<<12|o<<6|x)}else if((i&248)===240){const o=g[n++]&63,x=g[n++]&63,y=g[n++]&63;let m=(i&7)<<18|o<<12|x<<6|y;m>65535&&(m-=65536,s.push(m>>>10&1023|55296),m=56320|m&1023),s.push(m)}else s.push(i);s.length>=4096&&(e+=L.apply(String,s),s.length=0)}return s.length>0&&(e+=L.apply(String,s)),e}function _e(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=R();return A.freezeData?Object.freeze(e):e}function Re(t){if(A.mapsAsObjects){let e={};for(let r=0;r<t;r++){let s=Ve();s==="__proto__"&&(s="__proto_"),e[s]=R()}return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(R(),R());return e}}var L=String.fromCharCode;function Me(t){let e=n,r=new Array(t);for(let s=0;s<t;s++){const i=g[n++];if((i&128)>0){n=e;return}r[s]=i}return L.apply(String,r)}function xe(t){if(t<4)if(t<2){if(t===0)return"";{let e=g[n++];if((e&128)>1){n-=1;return}return L(e)}}else{let e=g[n++],r=g[n++];if((e&128)>0||(r&128)>0){n-=2;return}if(t<3)return L(e,r);let s=g[n++];if((s&128)>0){n-=3;return}return L(e,r,s)}else{let e=g[n++],r=g[n++],s=g[n++],i=g[n++];if((e&128)>0||(r&128)>0||(s&128)>0||(i&128)>0){n-=4;return}if(t<6){if(t===4)return L(e,r,s,i);{let o=g[n++];if((o&128)>0){n-=5;return}return L(e,r,s,i,o)}}else if(t<8){let o=g[n++],x=g[n++];if((o&128)>0||(x&128)>0){n-=6;return}if(t<7)return L(e,r,s,i,o,x);let y=g[n++];if((y&128)>0){n-=7;return}return L(e,r,s,i,o,x,y)}else{let o=g[n++],x=g[n++],y=g[n++],m=g[n++];if((o&128)>0||(x&128)>0||(y&128)>0||(m&128)>0){n-=8;return}if(t<10){if(t===8)return L(e,r,s,i,o,x,y,m);{let O=g[n++];if((O&128)>0){n-=9;return}return L(e,r,s,i,o,x,y,m,O)}}else if(t<12){let O=g[n++],_=g[n++];if((O&128)>0||(_&128)>0){n-=10;return}if(t<11)return L(e,r,s,i,o,x,y,m,O,_);let M=g[n++];if((M&128)>0){n-=11;return}return L(e,r,s,i,o,x,y,m,O,_,M)}else{let O=g[n++],_=g[n++],M=g[n++],D=g[n++];if((O&128)>0||(_&128)>0||(M&128)>0||(D&128)>0){n-=12;return}if(t<14){if(t===12)return L(e,r,s,i,o,x,y,m,O,_,M,D);{let j=g[n++];if((j&128)>0){n-=13;return}return L(e,r,s,i,o,x,y,m,O,_,M,D,j)}}else{let j=g[n++],H=g[n++];if((j&128)>0||(H&128)>0){n-=14;return}if(t<15)return L(e,r,s,i,o,x,y,m,O,_,M,D,j,H);let z=g[n++];if((z&128)>0){n-=15;return}return L(e,r,s,i,o,x,y,m,O,_,M,D,j,H,z)}}}}}function Pe(){let t=g[n++],e;if(t<192)e=t-160;else switch(t){case 217:e=g[n++];break;case 218:e=b.getUint16(n),n+=2;break;case 219:e=b.getUint32(n),n+=4;break;default:throw new Error("Expected string")}return ee(e)}function he(t){return A.copyBuffers?Uint8Array.prototype.slice.call(g,n,n+=t):g.subarray(n,n+=t)}function G(t){let e=g[n++];if(N[e]){let r;return N[e](g.subarray(n,r=n+=t),s=>{n=s;try{return R()}finally{n=r}})}else throw new Error("Unknown extension type "+e)}var Le=new Array(4096);function Ve(){let t=g[n++];if(t>=160&&t<192){if(t=t-160,J>=n)return Z.slice(n-C,(n+=t)-C);if(!(J==0&&F<180))return ae(t)}else return n--,De(R());let e=(t<<5^(t>1?b.getUint16(n):t>0?g[n]:0))&4095,r=Le[e],s=n,i=n+t-3,o,x=0;if(r&&r.bytes==t){for(;s<i;){if(o=b.getUint32(s),o!=r[x++]){s=1879048192;break}s+=4}for(i+=3;s<i;)if(o=g[s++],o!=r[x++]){s=1879048192;break}if(s===i)return n=s,r.string;i-=3,s=n}for(r=[],Le[e]=r,r.bytes=t;s<i;)o=b.getUint32(s),r.push(o),s+=4;for(i+=3;s<i;)o=g[s++],r.push(o);let y=t<16?xe(t):Me(t);return y!=null?r.string=y:r.string=ae(t)}function De(t){if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return t.toString();if(t==null)return t+"";if(A.allowArraysInMapKeys&&Array.isArray(t)&&t.flat().every(e=>["string","number","boolean","bigint"].includes(typeof e)))return t.flat().toString();throw new Error(`Invalid property type for record: ${typeof t}`)}const Ne=(t,e)=>{let r=R().map(De),s=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,r.highByte=e);let i=U[t];return i&&(i.isShared||X)&&((U.restoreStructures||(U.restoreStructures=[]))[t]=i),U[t]=r,r.read=ce(r,s),r.read()};N[0]=()=>{},N[0].noBuffer=!0,N[66]=t=>{let e=t.byteLength%8||8,r=BigInt(t[0]&128?t[0]-256:t[0]);for(let s=1;s<e;s++)r<<=BigInt(8),r+=BigInt(t[s]);if(t.byteLength!==e){let s=new DataView(t.buffer,t.byteOffset,t.byteLength),i=(o,x)=>{let y=x-o;if(y<=40){let M=s.getBigUint64(o);for(let D=o+8;D<x;D+=8)M<<=BigInt(64),M|=s.getBigUint64(D);return M}let m=o+(y>>4<<3),O=i(o,m),_=i(m,x);return O<<BigInt((x-m)*8)|_};r=r<<BigInt((s.byteLength-e)*8)|i(e,s.byteLength)}return r};let je={Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,AggregateError:typeof AggregateError=="function"?AggregateError:null};N[101]=()=>{let t=R();if(!je[t[0]]){let e=Error(t[1],{cause:t[2]});return e.name=t[0],e}return je[t[0]](t[1],{cause:t[2]})},N[105]=t=>{if(A.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=b.getUint32(n-4);q||(q=new Map);let r=g[n],s;r>=144&&r<160||r==220||r==221?s=[]:r>=128&&r<144||r==222||r==223?s=new Map:(r>=199&&r<=201||r>=212&&r<=216)&&g[n+1]===115?s=new Set:s={};let i={target:s};q.set(e,i);let o=R();if(i.used)Object.assign(s,o);else return i.target=o;if(s instanceof Map)for(let[x,y]of o.entries())s.set(x,y);if(s instanceof Set)for(let x of Array.from(o))s.add(x);return s},N[112]=t=>{if(A.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=b.getUint32(n-4),r=q.get(e);return r.used=!0,r.target},N[115]=()=>new Set(R());const Ce=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");let nt=typeof globalThis=="object"?globalThis:window;N[116]=t=>{let e=t[0],r=Uint8Array.prototype.slice.call(t,1).buffer,s=Ce[e];if(!s){if(e===16)return r;if(e===17)return new DataView(r);throw new Error("Could not find typed array for code "+e)}return new nt[s](r)},N[120]=()=>{let t=R();return new RegExp(t[0],t[1])};const it=[];N[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],r=n;return n+=e-t.length,P=it,P=[Pe(),Pe()],P.position0=0,P.position1=0,P.postBundlePosition=n,n=r,R()},N[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function ze(t){let e=F,r=n,s=C,i=J,o=Z,x=q,y=P,m=new Uint8Array(g.slice(0,F)),O=U,_=U.slice(0,U.length),M=A,D=X,j=t();return F=e,n=r,C=s,J=i,Z=o,q=x,P=y,g=m,X=D,U=O,U.splice(0,U.length,..._),A=M,b=new DataView(g.buffer,g.byteOffset,g.byteLength),j}function ge(){g=null,q=null,U=null}const de=new Array(147);for(let t=0;t<256;t++)de[t]=+("1e"+Math.floor(45.15-t*.30103));var ie=new Q({useRecords:!1});ie.unpack,ie.unpackMultiple,ie.unpack;let st=new Float32Array(1);new Uint8Array(st.buffer,0,4);let se;try{se=new TextEncoder}catch(t){}let ye,we;const v=typeof Buffer!="undefined",fe=v?function(t){return Buffer.allocUnsafeSlow(t)}:Uint8Array,Fe=v?Buffer:Uint8Array,Je=v?4294967296:2144337920;let l,te,E,f=0,V,I=null,ft;const lt=21760,ut=/[\u0080-\uFFFF]/,W=Symbol("record-id");class ot extends Q{constructor(e){super(e),this.offset=0;let r,s,i,o,x=Fe.prototype.utf8Write?function(u,d){return l.utf8Write(u,d,l.byteLength-d)}:se&&se.encodeInto?function(u,d){return se.encodeInto(u,l.subarray(d)).written}:!1,y=this;e||(e={});let m=e&&e.sequential,O=e.structures||e.saveStructures,_=e.maxSharedStructures;if(_==null&&(_=O?32:0),_>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&e.moreTypes==null&&(this.moreTypes=!0);let M=e.maxOwnStructures;M==null&&(M=O?32:64),!this.structures&&e.useRecords!=!1&&(this.structures=[]);let D=_>32||M+_>64,j=_+64,H=_+M+64;if(H>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let z=[],be=0,le=0;this.pack=this.encode=function(u,d){if(l||(l=new fe(8192),E=l.dataView||(l.dataView=new DataView(l.buffer,0,8192)),f=0),V=l.length-10,V-f<2048?(l=new fe(l.length),E=l.dataView||(l.dataView=new DataView(l.buffer,0,l.length)),V=l.length-10,f=0):f=f+7&2147483640,r=f,d&gt&&(f+=d&255),o=y.structuredClone?new Map:null,y.bundleStrings&&typeof u!="string"?(I=[],I.size=1/0):I=null,i=y.structures,i){i.uninitialized&&(i=y._mergeStructures(y.getStructures()));let c=i.sharedLength||0;if(c>_)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let a=0;a<c;a++){let p=i[a];if(!p)continue;let S,w=i.transitions;for(let k=0,B=p.length;k<B;k++){let $=p[k];S=w[$],S||(S=w[$]=Object.create(null)),w=S}w[W]=a+64}this.lastNamedStructuresLength=c}m||(i.nextId=c+64)}s&&(s=!1);let h;try{y.randomAccessStructure&&u&&typeof u=="object"?u.constructor===Object?Qe(u):u.constructor!==Map&&!Array.isArray(u)&&!we.some(a=>u instanceof a)?Qe(u.toJSON?u.toJSON():u):T(u):T(u);let c=I;if(I&&qe(r,T,0),o&&o.idsToInsert){let a=o.idsToInsert.sort((k,B)=>k.offset>B.offset?1:-1),p=a.length,S=-1;for(;c&&p>0;){let k=a[--p].offset+r;k<c.stringsPosition+r&&S===-1&&(S=0),k>c.position+r?S>=0&&(S+=6):(S>=0&&(E.setUint32(c.position+r,E.getUint32(c.position+r)+S),S=-1),c=c.previous,p++)}S>=0&&c&&E.setUint32(c.position+r,E.getUint32(c.position+r)+S),f+=a.length*6,f>V&&K(f),y.offset=f;let w=ct(l.subarray(r,f),a);return o=null,w}return y.offset=f,d&xt?(l.start=r,l.end=f,l):l.subarray(r,f)}catch(c){throw h=c,c}finally{if(i&&(Ze(),s&&y.saveStructures)){let c=i.sharedLength||0,a=l.subarray(r,f),p=at(i,y);if(!h)return y.saveStructures(p,p.isCompatible)===!1?y.pack(u,d):(y.lastNamedStructuresLength=c,l.length>1073741824&&(l=null),a)}l.length>1073741824&&(l=null),d&ht&&(f=r)}};const Ze=()=>{le<10&&le++;let u=i.sharedLength||0;if(i.length>u&&!m&&(i.length=u),be>1e4)i.transitions=null,le=0,be=0,z.length>0&&(z=[]);else if(z.length>0&&!m){for(let d=0,h=z.length;d<h;d++)z[d][W]=0;z=[]}},me=u=>{var d=u.length;d<16?l[f++]=144|d:d<65536?(l[f++]=220,l[f++]=d>>8,l[f++]=d&255):(l[f++]=221,E.setUint32(f,d),f+=4);for(let h=0;h<d;h++)T(u[h])},T=u=>{f>V&&(l=K(f));var d=typeof u,h;if(d==="string"){let c=u.length;if(I&&c>=4&&c<4096){if((I.size+=c)>lt){let w,k=(I[0]?I[0].length*3+I[1].length:0)+10;f+k>V&&(l=K(f+k));let B;I.position?(B=I,l[f]=200,f+=3,l[f++]=98,w=f-r,f+=4,qe(r,T,0),E.setUint16(w+r-3,f-r-w)):(l[f++]=214,l[f++]=98,w=f-r,f+=4),I=["",""],I.previous=B,I.size=0,I.position=w}let S=ut.test(u);I[S?0:1]+=u,l[f++]=193,T(S?-c:c);return}let a;c<32?a=1:c<256?a=2:c<65536?a=3:a=5;let p=c*3;if(f+p>V&&(l=K(f+p)),c<64||!x){let S,w,k,B=f+a;for(S=0;S<c;S++)w=u.charCodeAt(S),w<128?l[B++]=w:w<2048?(l[B++]=w>>6|192,l[B++]=w&63|128):(w&64512)===55296&&((k=u.charCodeAt(S+1))&64512)===56320?(w=65536+((w&1023)<<10)+(k&1023),S++,l[B++]=w>>18|240,l[B++]=w>>12&63|128,l[B++]=w>>6&63|128,l[B++]=w&63|128):(l[B++]=w>>12|224,l[B++]=w>>6&63|128,l[B++]=w&63|128);h=B-f-a}else h=x(u,f+a);h<32?l[f++]=160|h:h<256?(a<2&&l.copyWithin(f+2,f+1,f+1+h),l[f++]=217,l[f++]=h):h<65536?(a<3&&l.copyWithin(f+3,f+2,f+2+h),l[f++]=218,l[f++]=h>>8,l[f++]=h&255):(a<5&&l.copyWithin(f+5,f+3,f+3+h),l[f++]=219,E.setUint32(f,h),f+=4),f+=h}else if(d==="number")if(u>>>0===u)u<32||u<128&&this.useRecords===!1||u<64&&!this.randomAccessStructure?l[f++]=u:u<256?(l[f++]=204,l[f++]=u):u<65536?(l[f++]=205,l[f++]=u>>8,l[f++]=u&255):(l[f++]=206,E.setUint32(f,u),f+=4);else if(u>>0===u)u>=-32?l[f++]=256+u:u>=-128?(l[f++]=208,l[f++]=u+256):u>=-32768?(l[f++]=209,E.setInt16(f,u),f+=2):(l[f++]=210,E.setInt32(f,u),f+=4);else{let c;if((c=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){l[f++]=202,E.setFloat32(f,u);let a;if(c<4||(a=u*de[(l[f]&127)<<1|l[f+1]>>7])>>0===a){f+=4;return}else f--}l[f++]=203,E.setFloat64(f,u),f+=8}else if(d==="object"||d==="function")if(!u)l[f++]=192;else{if(o){let a=o.get(u);if(a){if(!a.id){let p=o.idsToInsert||(o.idsToInsert=[]);a.id=p.push(a)}l[f++]=214,l[f++]=112,E.setUint32(f,a.id),f+=4;return}else o.set(u,{offset:f-r})}let c=u.constructor;if(c===Object)ue(u);else if(c===Array)me(u);else if(c===Map)if(this.mapAsEmptyObject)l[f++]=128;else{h=u.size,h<16?l[f++]=128|h:h<65536?(l[f++]=222,l[f++]=h>>8,l[f++]=h&255):(l[f++]=223,E.setUint32(f,h),f+=4);for(let[a,p]of u)T(a),T(p)}else{for(let a=0,p=ye.length;a<p;a++){let S=we[a];if(u instanceof S){let w=ye[a];if(w.write){w.type&&(l[f++]=212,l[f++]=w.type,l[f++]=0);let re=w.write.call(this,u);re===u?Array.isArray(u)?me(u):ue(u):T(re);return}let k=l,B=E,$=f;l=null;let Y;try{Y=w.pack.call(this,u,re=>(l=k,k=null,f+=re,f>V&&K(f),{target:l,targetView:E,position:f-re}),T)}finally{k&&(l=k,E=B,f=$,V=l.length-10)}Y&&(Y.length+f>V&&K(Y.length+f),f=$e(Y,l,f,w.type));return}}if(Array.isArray(u))me(u);else{if(u.toJSON){const a=u.toJSON();if(a!==u)return T(a)}if(d==="function")return T(this.writeFunction&&this.writeFunction(u));ue(u)}}}else if(d==="boolean")l[f++]=u?195:194;else if(d==="bigint"){if(u<9223372036854776e3&&u>=-9223372036854776e3)l[f++]=211,E.setBigInt64(f,u);else if(u<18446744073709552e3&&u>0)l[f++]=207,E.setBigUint64(f,u);else if(this.largeBigIntToFloat)l[f++]=203,E.setFloat64(f,Number(u));else{if(this.largeBigIntToString)return T(u.toString());if(this.useBigIntExtension||this.moreTypes){let c=u<0?BigInt(-1):BigInt(0),a;if(u>>BigInt(65536)===c){let p=BigInt(18446744073709552e3)-BigInt(1),S=[];for(;S.push(u&p),u>>BigInt(63)!==c;)u>>=BigInt(64);a=new Uint8Array(new BigUint64Array(S).buffer),a.reverse()}else{let p=u<0,S=(p?~u:u).toString(16);if(S.length%2?S="0"+S:parseInt(S.charAt(0),16)>=8&&(S="00"+S),v)a=Buffer.from(S,"hex");else{a=new Uint8Array(S.length/2);for(let w=0;w<a.length;w++)a[w]=parseInt(S.slice(w*2,w*2+2),16)}if(p)for(let w=0;w<a.length;w++)a[w]=~a[w]}a.length+f>V&&K(a.length+f),f=$e(a,l,f,66);return}else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}f+=8}else if(d==="undefined")this.encodeUndefinedAsNil?l[f++]=192:(l[f++]=212,l[f++]=0,l[f++]=0);else throw new Error("Unknown type: "+d)},Xe=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?u=>{let d;if(this.skipValues){d=[];for(let a in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(a))&&!this.skipValues.includes(u[a])&&d.push(a)}else d=Object.keys(u);let h=d.length;h<16?l[f++]=128|h:h<65536?(l[f++]=222,l[f++]=h>>8,l[f++]=h&255):(l[f++]=223,E.setUint32(f,h),f+=4);let c;if(this.coercibleKeyAsNumber)for(let a=0;a<h;a++){c=d[a];let p=Number(c);T(isNaN(p)?c:p),T(u[c])}else for(let a=0;a<h;a++)T(c=d[a]),T(u[c])}:u=>{l[f++]=222;let d=f-r;f+=2;let h=0;for(let c in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(c))&&(T(c),T(u[c]),h++);if(h>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');l[d+++r]=h>>8,l[d+r]=h&255},Ye=this.useRecords===!1?Xe:e.progressiveRecords&&!D?u=>{let d,h=i.transitions||(i.transitions=Object.create(null)),c=f++-r,a;for(let p in u)if(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(p)){if(d=h[p],d)h=d;else{let S=Object.keys(u),w=h;h=i.transitions;let k=0;for(let B=0,$=S.length;B<$;B++){let Y=S[B];d=h[Y],d||(d=h[Y]=Object.create(null),k++),h=d}c+r+1==f?(f--,Ue(h,S,k)):He(h,S,c,k),a=!0,h=w[p]}T(u[p])}if(!a){let p=h[W];p?l[c+r]=p:He(h,Object.keys(u),c,0)}}:u=>{let d,h=i.transitions||(i.transitions=Object.create(null)),c=0;for(let p in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(p))&&(d=h[p],d||(d=h[p]=Object.create(null),c++),h=d);let a=h[W];a?a>=96&&D?(l[f++]=((a-=96)&31)+96,l[f++]=a>>5):l[f++]=a:Ue(h,h.__keys__||Object.keys(u),c);for(let p in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(p))&&T(u[p])},Ge=typeof this.useRecords=="function"&&this.useRecords,ue=Ge?u=>{Ge(u)?Ye(u):Xe(u)}:Ye,K=u=>{let d;if(u>16777216){if(u-r>Je)throw new Error("Packed buffer would be larger than maximum buffer size");d=Math.min(Je,Math.round(Math.max((u-r)*(u>67108864?1.25:2),4194304)/4096)*4096)}else d=(Math.max(u-r<<2,l.length-1)>>12)+1<<12;let h=new fe(d);return E=h.dataView||(h.dataView=new DataView(h.buffer,0,d)),u=Math.min(u,l.length),l.copy?l.copy(h,0,r,u):h.set(l.slice(r,u)),f-=r,r=0,V=h.length-10,l=h},Ue=(u,d,h)=>{let c=i.nextId;c||(c=64),c<j&&this.shouldShareStructure&&!this.shouldShareStructure(d)?(c=i.nextOwnId,c<H||(c=j),i.nextOwnId=c+1):(c>=H&&(c=j),i.nextId=c+1);let a=d.highByte=c>=96&&D?c-96>>5:-1;u[W]=c,u.__keys__=d,i[c-64]=d,c<j?(d.isShared=!0,i.sharedLength=c-63,s=!0,a>=0?(l[f++]=(c&31)+96,l[f++]=a):l[f++]=c):(a>=0?(l[f++]=213,l[f++]=114,l[f++]=(c&31)+96,l[f++]=a):(l[f++]=212,l[f++]=114,l[f++]=c),h&&(be+=le*h),z.length>=M&&(z.shift()[W]=0),z.push(u),T(d))},He=(u,d,h,c)=>{let a=l,p=f,S=V,w=r;l=te,f=0,r=0,l||(te=l=new fe(8192)),V=l.length-10,Ue(u,d,c),te=l;let k=f;if(l=a,f=p,V=S,r=w,k>1){let B=f+k-1;B>V&&K(B);let $=h+r;l.copyWithin($+k,$+1,f),l.set(te.slice(0,k),$),f=B}else l[h+r]=te[0]},Qe=u=>{let d=ft(u,l,r,f,i,K,(h,c,a)=>{if(a)return s=!0;f=c;let p=l;return T(h),Ze(),p!==l?{position:f,targetView:E,target:l}:f},this);if(d===0)return ue(u);f=d}}useBuffer(e){l=e,l.dataView||(l.dataView=new DataView(l.buffer,l.byteOffset,l.byteLength)),E=l.dataView,f=0}set position(e){f=e}get position(){return f}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}we=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,Be],ye=[{pack(t,e,r){let s=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&s>=0&&s<4294967296){let{target:i,targetView:o,position:x}=e(6);i[x++]=214,i[x++]=255,o.setUint32(x,s)}else if(s>0&&s<4294967296){let{target:i,targetView:o,position:x}=e(10);i[x++]=215,i[x++]=255,o.setUint32(x,t.getMilliseconds()*4e6+(s/1e3/4294967296>>0)),o.setUint32(x+4,s)}else if(isNaN(s)){if(this.onInvalidDate)return e(0),r(this.onInvalidDate());let{target:i,targetView:o,position:x}=e(3);i[x++]=212,i[x++]=255,i[x++]=255}else{let{target:i,targetView:o,position:x}=e(15);i[x++]=199,i[x++]=12,i[x++]=255,o.setUint32(x,t.getMilliseconds()*1e6),o.setBigInt64(x+4,BigInt(Math.floor(s)))}}},{pack(t,e,r){if(this.setAsEmptyObject)return e(0),r({});let s=Array.from(t),{target:i,position:o}=e(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),r(s)}},{pack(t,e,r){let{target:s,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(s[i++]=212,s[i++]=101,s[i++]=0),r([t.name,t.message,t.cause])}},{pack(t,e,r){let{target:s,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(s[i++]=212,s[i++]=120,s[i++]=0),r([t.source,t.flags])}},{pack(t,e){this.moreTypes?pe(t,16,e):Se(v?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let r=t.constructor;r!==Fe&&this.moreTypes?pe(t,Ce.indexOf(r.name),e):Se(t,e)}},{pack(t,e){this.moreTypes?pe(t,17,e):Se(v?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let{target:r,position:s}=e(1);r[s]=193}}];function pe(t,e,r,s){let i=t.byteLength;if(i+1<256){var{target:o,position:x}=r(4+i);o[x++]=199,o[x++]=i+1}else if(i+1<65536){var{target:o,position:x}=r(5+i);o[x++]=200,o[x++]=i+1>>8,o[x++]=i+1&255}else{var{target:o,position:x,targetView:y}=r(7+i);o[x++]=201,y.setUint32(x,i+1),x+=4}o[x++]=116,o[x++]=e,t.buffer||(t=new Uint8Array(t)),o.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),x)}function Se(t,e){let r=t.byteLength;var s,i;if(r<256){var{target:s,position:i}=e(r+2);s[i++]=196,s[i++]=r}else if(r<65536){var{target:s,position:i}=e(r+3);s[i++]=197,s[i++]=r>>8,s[i++]=r&255}else{var{target:s,position:i,targetView:o}=e(r+5);s[i++]=198,o.setUint32(i,r),i+=4}s.set(t,i)}function $e(t,e,r,s){let i=t.length;switch(i){case 1:e[r++]=212;break;case 2:e[r++]=213;break;case 4:e[r++]=214;break;case 8:e[r++]=215;break;case 16:e[r++]=216;break;default:i<256?(e[r++]=199,e[r++]=i):i<65536?(e[r++]=200,e[r++]=i>>8,e[r++]=i&255):(e[r++]=201,e[r++]=i>>24,e[r++]=i>>16&255,e[r++]=i>>8&255,e[r++]=i&255)}return e[r++]=s,e.set(t,r),r+=i,r}function ct(t,e){let r,s=e.length*6,i=t.length-s;for(;r=e.pop();){let o=r.offset,x=r.id;t.copyWithin(o+s,o,i),s-=6;let y=o+s;t[y++]=214,t[y++]=105,t[y++]=x>>24,t[y++]=x>>16&255,t[y++]=x>>8&255,t[y++]=x&255,i=o}return t}function qe(t,e,r){if(I.length>0){E.setUint32(I.position+t,f+r-I.position-t),I.stringsPosition=f-t;let s=I;I=null,e(s[0]),e(s[1])}}function at(t,e){return t.isCompatible=r=>{let s=!r||(e.lastNamedStructuresLength||0)===r.length;return s||e._mergeStructures(r),s},t}let Ke=new ot({useRecords:!1});Ke.pack,Ke.pack;const xt=512,ht=1024,gt=2048;var dt=(t,e,r)=>new Promise((s,i)=>{var o=m=>{try{y(r.next(m))}catch(O){i(O)}},x=m=>{try{y(r.throw(m))}catch(O){i(O)}},y=m=>m.done?s(m.value):Promise.resolve(m.value).then(o,x);y((r=r.apply(t,e)).next())});const yt=new Q({largeBigIntToFloat:!0,mapsAsObjects:!0,bundleStrings:!0,int64AsType:"number"});self.onmessage=t=>dt(null,null,function*(){const{id:e,url:r}=t.data;try{const s=new DecompressionStream("gzip"),i=yield fetch(r);if(!i.body)throw new Error("Response body is null");const o=i.body.pipeThrough(s),x=yield new Response(o).arrayBuffer(),y=yt.unpack(new Uint8Array(x)),m={id:e,ok:!0,result:y};self.postMessage(m)}catch(s){const i={id:e,ok:!1,error:s instanceof Error?s.message:"Unknown decompression error"};self.postMessage(i)}})})();
