var bt=(fe,pe,P)=>new Promise((ee,R)=>{var N=M=>{try{p(P.next(M))}catch(s){R(s)}},W=M=>{try{p(P.throw(M))}catch(s){R(s)}},p=M=>M.done?ee(M.value):Promise.resolve(M.value).then(N,W);p((P=P.apply(fe,pe)).next())});import{e as V,a as j,f as q,s as B}from"../chunks/ByHfNYyH.js";import{i as fa}from"../chunks/DPmMxCJa.js";import{o as pa}from"../chunks/TrlPcG3m.js";import{p as va,l as Y,a as ga,t as J,b as ha,d as _a,s as v,c as d,e as i,g as e,$ as ba,r as u,u as y,m,f as ya,h as E,n as wa,i as Aa,j as xa}from"../chunks/MAWq1Bs-.js";import{i as D}from"../chunks/DRn8owhI.js";import{h as Ca,a as Sa,g as de,d as yt,s as Be,r as ka,b as U}from"../chunks/D5oqsy_p.js";import{c as Ke,s as Ma}from"../chunks/CnrOJzGS.js";import{C as $a}from"../chunks/DcxSc3jB.js";import{B as Ia,S as Pa,s as Ne,g as Ta,f as La,y as Ea,n as ue,a as Ra,b as wt,d as Ba,E as Ka,P as Na}from"../chunks/BrECN6iW.js";import{S as We,b as Wa,v as Fa,f as Ha,t as At,a as Va}from"../chunks/B6FWrDFz.js";import{K as ja,g as xt,A as Da,r as X,s as Ua,m as Fe,a as Z,b as qa,c as Qa}from"../chunks/DC_DG9dt.js";import{b as He}from"../chunks/B8xhrJ_g.js";import{a as za,s as Oa}from"../chunks/D9W9dS64.js";import{g as me,r as Ve}from"../chunks/C-5gSOKl.js";var Ga=q('<a class="btn ux-btn fw-bold"> <i class="bi bi-box-arrow-up-right"></i></a>'),Ya=q('<div class="alert alert-danger m-2 d-flex justify-content-between align-items-center"><span> </span> <button class="btn btn-sm btn-outline-danger fw-bold">Retry</button></div>'),Ja=q(`<div class="mb-2"><div class="d-flex align-items-center gap-2 flex-wrap"><span class="fw-bold"> </span> <button class="btn ux-btn btn-sm fw-bold">Choose metric header</button></div></div> <div class="row g-2"><div class="col-md-6"><div class="ux-coalition-panel ux-coalition-panel--compact ux-coalition-panel--red"><div class="d-flex justify-content-between align-items-center flex-wrap gap-1 mb-1"><strong><span class="badge text-bg-danger ms-1">Selected coalition</span> </strong></div> <div class="small ux-muted">Use "Edit alliances" to search, bulk-select, or
                            clear coalition alliances.</div> <div class="mt-2"><button class="btn ux-btn btn-sm fw-bold">Edit alliances</button></div></div></div> <div class="col-md-6"><div class="ux-coalition-panel ux-coalition-panel--compact ux-coalition-panel--blue"><div class="d-flex justify-content-between align-items-center flex-wrap gap-1 mb-1"><strong><span class="badge text-bg-primary ms-1">Compared coalition</span> </strong></div> <div class="small ux-muted">Use "Edit alliances" to search, bulk-select, or
                            clear coalition alliances.</div> <div class="mt-2"><button class="btn ux-btn btn-sm fw-bold">Edit alliances</button></div></div></div></div> <div class="small text-muted mt-2"> </div>`,1),Xa=q('<div class="alert alert-warning fw-bold">Select at least one alliance on both sides to render the table.</div>'),Za=q('<div class="small text-muted text-end mt-2"> </div>'),en=q('<div class="container-fluid p-2 ux-page-body"><h1 class="m-0 mb-2 p-2 ux-surface ux-page-title"><div class="ux-page-title-stack"><!> <span class="ux-page-title-main"> </span></div> <!></h1> <!> <div class="ux-surface ux-tab-panel p-2 fw-bold mb-2 aava-controls ux-floating-controls"><div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mb-2"><div class="d-flex align-items-center gap-2 flex-wrap"><span class="fw-bold">AAvA Controls</span> <button class="btn ux-btn btn-sm fw-bold">Swap coalitions</button></div> <div class="d-flex align-items-center gap-2 flex-wrap"><button class="btn ux-btn btn-sm">KPI Builder</button> <!></div></div> <!> <!> <!></div> <!> <!> <!> <!> <!> <div id="aava-table"></div> <!></div>');function hn(fe,pe){va(pe,!1);const P=m(),ee=m(),R=["name","primary_to_row","row_to_primary","net","total","primary_share_pct","row_share_pct","abs_net"],N=["name","primary_to_row","row_to_primary","net","total","primary_share_pct","row_share_pct"];let W=m(""),p=m(null),M=m(""),s=m(null),Q=m(!1),z=m(null),g=m("wars"),f=m(0),c=m([[],[]]),A=m([]),x=m([]),T=m([...N]),ve=m("net"),ge=m(10),he=m("net"),_e=m("sum"),be=m(""),ye=m(!1),te=m(!1),ae=m(!1),ne=m(!1),je=m([]),De=m([]),Ue=m([]),we=new Map,Ae=!1,xe=m([]);function Ct(){we.clear()}function qe(t){var a;return(a=e(s))==null?void 0:a.coalitions[t]}function re(){return qe(e(f))}function ie(){return qe(e(f)===0?1:0)}function Qe(t){const a=Ve(t);return{name:"Alliance",primary_to_row:a.primaryToRowLabel(t),row_to_primary:a.rowToPrimaryLabel(t),net:"Net",total:"Total",primary_share_pct:"Compared share %",row_share_pct:"Selected share %",abs_net:"Abs Net"}}function le(t){return!t||t==="none"?[]:t.split(".").map(a=>+a).filter(a=>Number.isFinite(a)&&a>0)}function ze(t){return t.trim().toLowerCase().replace(/\s+/g," ")}function St(t,a){const n=ze(t);if(!n)return null;if(R.includes(t))return t;for(const o of R)if(ze(a[o])===n)return o;const r={alliance:"name","primary → row":"primary_to_row","row → primary":"row_to_primary",net:"net",total:"total","primary share %":"primary_share_pct","selected share %":"primary_share_pct","row share %":"row_share_pct","compared share %":"row_share_pct","abs net":"abs_net"};return r[n]?r[n]:n.endsWith("sent by selected coalition")?"primary_to_row":n.endsWith("received from compared coalition")?"row_to_primary":n.includes("selected")&&!n.includes("share")?"primary_to_row":n.includes("compared")&&!n.includes("share")?"row_to_primary":null}function oe(t,a){if(!t)return[];const n=Qe(a),r=[];for(const o of t.split(".")){const l=St(o,n);l&&!r.includes(l)&&r.push(l)}return r.includes("name")||r.unshift("name"),r.length>0?r:[]}function Oe(t){return t==="1"?1:0}function Ge(t){return["c0","c1","pids","vids"].some(n=>{const r=t.get(n);return r!==null&&r.trim().length>0})}function O(t=e(s)){var a,n,r,o;return[ue((n=(a=t==null?void 0:t.coalitions[0])==null?void 0:a.alliance_ids)!=null?n:[]),ue((o=(r=t==null?void 0:t.coalitions[1])==null?void 0:r.alliance_ids)!=null?o:[])]}function Ye(t,a,n){var w,S;if(!e(s))return;const r=new Set(ue((S=(w=e(s).coalitions[t])==null?void 0:w.alliance_ids)!=null?S:[])),o=ue(a),l=Array.from(new Set(o.filter(k=>r.has(k)))),b=Array.from(r),h=l.length>0||n!=null&&n.allowEmpty&&o.length===0?l:b;i(c,t===0?[h,[...e(c)[1]]]:[[...e(c)[0]],h])}function kt(t,a){const n=O(t),r=new Set(n[0]),o=new Set(n[1]),l=a.get("c0"),b=a.get("c1");if(l!==null||b!==null){const I=le(l).filter(H=>r.has(H)),$=le(b).filter(H=>o.has(H)),K=l===null?[...n[0]]:I.length>0||l==="none"?I:[...n[0]],ce=b===null?[...n[1]]:$.length>0||b==="none"?$:[...n[1]];return[K,ce]}const h=a.get("pids"),w=a.get("vids");if(h===null&&w===null)return n;const S=Oe(a.get("pc")),k=S===0?1:0,_=[[...n[0]],[...n[1]]];if(h!==null){const I=new Set(n[S]),$=le(h).filter(K=>I.has(K));_[S]=$.length>0||h==="none"?$:[...n[S]]}if(w!==null){const I=new Set(n[k]),$=le(w).filter(K=>I.has(K));_[k]=$.length>0||w==="none"?$:[...n[k]]}return _}function se(){var n,r;const t=(n=e(c)[e(f)])!=null?n:[],a=(r=e(c)[e(f)===0?1:0])!=null?r:[];U("header",e(g)),U("pc",e(f)),U("c0",e(c)[0].length?e(c)[0].join("."):"none"),U("c1",e(c)[1].length?e(c)[1].join("."):"none"),U("pids",t.length?t.join("."):"none"),U("vids",a.length?a.join("."):"none"),Be()}function Ce(){var n,r,o,l;const t=(r=(n=re())==null?void 0:n.name)!=null?r:"Selected",a=(l=(o=ie())==null?void 0:o.name)!=null?l:"Compared";return{header:e(g),primaryCoalitionIndex:e(f),primaryIds:[...e(A)],vsIds:[...e(x)],label:`${t} vs ${a} · ${e(A).length}/${e(x).length}`}}function Mt(){var a;if(!e(p)||e(A).length===0||e(x).length===0)return;const t=X(e(p));t.widgets=[...(a=t.widgets)!=null?a:[],{id:Fe("ranking"),kind:"ranking",entity:"alliance",metric:e(ve),scope:"selection",limit:Math.max(1,e(ge)),source:"aava",aavaSnapshot:Ce()}],Z(e(p),t),F()}function $t(){var a;if(!e(p)||e(A).length===0||e(x).length===0)return;const t=X(e(p));t.widgets=[...(a=t.widgets)!=null?a:[],{id:Fe("metric"),kind:"metric",entity:"alliance",metric:e(he),scope:"selection",aggregation:e(_e),source:"aava",normalizeBy:e(be)||null,aavaSnapshot:Ce()}],Z(e(p),t),F()}function F(){if(!e(p)){i(xe,[]);return}const t=X(e(p)),a=Array.isArray(t.widgets)?t.widgets.map(n=>Ua(n,Fe)).filter(n=>n!==null):[];(!Array.isArray(t.widgets)||a.length!==t.widgets.length)&&(t.widgets=a,Z(e(p),t)),i(xe,a)}function It(t){var n;if(!e(p))return;const a=X(e(p));a.widgets=((n=a.widgets)!=null?n:[]).filter(r=>r.id!==t),Z(e(p),a),F()}function Pt(t,a){var r;if(!e(p))return;const n=X(e(p));n.widgets=qa((r=n.widgets)!=null?r:[],t,a),Z(e(p),n),F()}function Tt(){F(),i(ye,!0)}function Lt(){i(ye,!1)}function Et(t){var r;const n=(r=xt(e(g))[t])!=null?r:t;return t==="primary_to_row"?`${n}: selected coalition value toward each compared alliance.`:t==="row_to_primary"?`${n}: compared coalition value toward the selected coalition.`:t==="net"?`${n}: selected minus compared (positive favors selected).`:t==="total"?`${n}: selected plus compared values.`:t==="primary_share_pct"?`${n}: selected coalition share percentage by row.`:t==="row_share_pct"?`${n}: compared coalition share percentage by row.`:t==="abs_net"?`${n}: absolute net magnitude, ignoring direction.`:`${n}: AAvA snapshot metric for selected alliances.`}function Rt(t){var n,r;if(t.kind==="preset")return`Conflict preset: ${t.key}`;if(t.kind==="ranking"){const o=t.source==="aava"&&(n=e(P)[t.metric])!=null?n:t.metric;return`${t.source==="aava"?"AAvA":"Conflict"} ranking: top ${t.limit} ${t.entity}s by ${o}`}const a=t.source==="aava"&&(r=e(P)[t.metric])!=null?r:t.metric;return`${t.aggregation.toUpperCase()} ${t.entity} ${a}`}function Je(){return e(A).length>0&&e(x).length>0?"":"Select at least one alliance on both sides before adding snapshot widgets."}function Bt(){const t=de(),a=oe(t.get("columns"),e(g)),n=oe(t.get("cols"),e(g)),r=a.length>0?a:n;r.length>0&&i(T,r)}function Kt(t,a,n){if(!e(s))return[];const r=`${t}|${a.join(".")}|${n.join(".")}`,o=we.get(r);if(o)return o;const l=Qa(e(s),{header:t,primaryIds:a,vsIds:n});return we.set(r,l),l}function Nt(){return Kt(e(g),e(A),e(x))}function Xe(){var h,w,S,k;Ae=!1;const t=document.getElementById("aava-table");if(!t)return;t.innerHTML="";let a=(h=e(c)[e(f)])!=null?h:[],n=(w=e(c)[e(f)===0?1:0])!=null?w:[];if(e(s)&&(a.length===0||n.length===0)){const _=de();Ge(_)||(i(c,O(e(s))),a=(S=e(c)[e(f)])!=null?S:[],n=(k=e(c)[e(f)===0?1:0])!=null?k:[])}if(!e(s)||a.length===0||n.length===0)return;Bt();const r=Qe(e(g)),o=Nt(),l=R.map((_,I)=>e(T).includes(_)?I:-1).filter(_=>_>=0),b={columns:R.map(_=>r[_]),data:o.map(_=>[_.alliance,_.primary_to_row,_.row_to_primary,_.net,_.total,_.primary_share_pct,_.row_share_pct,_.abs_net]),searchable:[0],visible:l,cell_format:{formatAllianceLink:[0],formatNumber:[1,2,3,4,7],formatPercent:[5,6]},row_format:null,sort:[R.indexOf("net"),"desc"]};Oa(t,b)}function G(){Ae||(Ae=!0,requestAnimationFrame(()=>Xe()))}function Wt(t){i(g,t),se(),G()}function Ft(){i(te,!0)}function Ht(){i(te,!1)}function Vt(t){const a=Ha(t.detail.ids);a&&(Wt(a),i(te,!1))}function jt(){e(s)&&(i(f,e(f)===0?1:0),se(),G())}function Ze(t){var n;const a=(n=e(s))==null?void 0:n.coalitions[t];return a?Va([a],wt):[]}function Dt(){i(De,Ze(e(f))),i(ae,!0)}function Ut(){const t=e(f)===0?1:0;i(Ue,Ze(t)),i(ne,!0)}function qt(){i(ae,!1)}function Qt(){i(ne,!1)}function zt(t){const a=At(t.detail.ids);Ye(e(f),a,{allowEmpty:!0}),i(ae,!1),se(),G()}function Ot(t){const a=e(f)===0?1:0,n=At(t.detail.ids);Ye(a,n,{allowEmpty:!0}),i(ne,!1),se(),G()}function Gt(){e(s)&&(i(f,0),i(g,me(e(s))),i(c,O(e(s))),i(T,[...N]),ka(["header","pc","c0","c1","pids","vids","columns","cols","sort","order"],["id"]),Be(),G())}function Yt(){e(p)&&et(e(p))}function Jt(t){var b,h,w;const a=de(),n=Ge(a);i(f,Oe(a.get("pc"))),i(g,(b=a.get("header"))!=null?b:me(t)),t.war_web.headers.includes(e(g))||i(g,me(t)),i(c,kt(t,a)),!n&&(((h=e(c)[e(f)])!=null?h:[]).length===0||((w=e(c)[e(f)===0?1:0])!=null?w:[]).length===0)&&i(c,O(t));const r=oe(a.get("columns"),e(g)),o=oe(a.get("cols"),e(g)),l=r.length>0?r:o;i(T,l.length>0?l:[...N]),e(T).includes("name")||e(T).unshift("name")}function et(t){i(z,null),i(Q,!1),Ct();const a=Ta(t,Ke.version.conflict_data);yt(a).then(n=>bt(null,null,function*(){i(s,n),i(W,n.name),i(M,La(Ke.version.conflict_data,n.update_ms)),Jt(n),yield ya(),yield Ea(),Xe(),i(Q,!0),Be(),(typeof window.requestIdleCallback=="function"?o=>window.requestIdleCallback(o,{timeout:2500}):o=>window.setTimeout(o,300))(()=>{const o=Ra(t,Ke.version.graph_data);yt(o).catch(()=>{})})})).catch(n=>{console.error("Failed to load AAvA data",n),i(z,"Could not load conflict web data. Please try again later."),i(Q,!0)})}pa(()=>{Sa(["header","pc","columns","cols"],["id"]),za(),Ne("formatAllianceLink",n=>{const r=wt(n==null?void 0:n[0],n==null?void 0:n[1]);return`<a href="https://politicsandwar.com/alliance/id=${n==null?void 0:n[1]}">${r}</a>`}),Ne("formatPercent",n=>Number.isFinite(n)?`${n.toFixed(2)}%`:"0.00%"),Ne("download",(n,r)=>{var l;const o=(l=document.getElementById("aava-table"))==null?void 0:l.querySelector("table");o&&Ba(o,n,Ka[r])});const a=de().get("id");if(!a){i(z,"Missing conflict id in URL"),i(Q,!0);return}i(p,a),F(),et(a)}),Y(()=>(e(c),e(f)),()=>{var t;i(A,(t=e(c)[e(f)])!=null?t:[])}),Y(()=>(e(c),e(f)),()=>{var t;i(x,(t=e(c)[e(f)===0?1:0])!=null?t:[])}),Y(()=>e(g),()=>{i(P,xt(e(g)))}),Y(()=>(e(s),e(T),e(c),e(f),e(g)),()=>{i(ee,(()=>{if(!e(s))return!1;const t=me(e(s)),a=O(e(s)),n=N,r=e(T).length===n.length&&e(T).every((b,h)=>b===n[h]),o=e(c)[0].length===a[0].length&&e(c)[0].every((b,h)=>b===a[0][h]),l=e(c)[1].length===a[1].length&&e(c)[1].every((b,h)=>b===a[1][h]);return!(e(f)===0&&e(g)===t&&r&&o&&l)})())}),Y(()=>e(s),()=>{var t,a;i(je,Wa((a=(t=e(s))==null?void 0:t.war_web.headers)!=null?a:[]))}),ga(),fa();var Se=en();Ca("1s0dtps",t=>{_a(()=>{var a;ba.title=`AAvA ${(a=e(W))!=null?a:""}`})});var ke=d(Se),Me=d(ke),tt=d(Me);{let t=E(()=>[{label:"Home",href:`${He}/`},{label:"Conflicts",href:`${He}/conflicts`},{label:e(W)||"Conflict",href:e(p)?`${He}/conflict?id=`+e(p):void 0},{label:"AAvA"}]);Ia(tt,{get items(){return e(t)}})}var at=v(tt,2),Xt=d(at);u(at),u(Me);var Zt=v(Me,2);{var ea=t=>{var a=Ga(),n=d(a);wa(),u(a),J(()=>{var r,o;Ma(a,"href",`https://politicsandwar.fandom.com/wiki/${(r=(e(s),y(()=>e(s).wiki)))!=null?r:""}`),B(n,`Wiki:${(o=(e(s),y(()=>e(s).wiki)))!=null?o:""} `)}),j(t,a)};D(Zt,t=>{e(s),y(()=>{var a;return(a=e(s))==null?void 0:a.wiki})&&t(ea)})}u(ke);var nt=v(ke,2);$a(nt,{get conflictId(){return e(p)},active:"aava"});var $e=v(nt,2),Ie=d($e),Pe=d(Ie),ta=v(d(Pe),2);u(Pe);var rt=v(Pe,2),it=d(rt),aa=v(it,2);Pa(aa,{onReset:Gt,get resetDirty(){return e(ee)}}),u(rt),u(Ie);var lt=v(Ie,2);{var na=t=>{Na(t)};D(lt,t=>{e(Q)||t(na)})}var ot=v(lt,2);{var ra=t=>{var a=Ya(),n=d(a),r=d(n,!0);u(n);var o=v(n,2);u(a),J(()=>B(r,e(z))),V("click",o,Yt),j(t,a)};D(ot,t=>{e(z)&&t(ra)})}var ia=v(ot,2);{var la=t=>{var a=Ja(),n=Aa(a),r=d(n),o=d(r),l=d(o);u(o);var b=v(o,2);u(r),u(n);var h=v(n,2),w=d(h),S=d(w),k=d(S),_=d(k),I=v(d(_));u(_),u(k);var $=v(k,4),K=d($);u($),u(S),u(w);var ce=v(w,2),H=d(ce),Te=d(H),ft=d(Te),da=v(d(ft));u(ft),u(Te);var pt=v(Te,4),ua=d(pt);u(pt),u(H),u(ce),u(h);var vt=v(h,2),ma=d(vt);u(vt),J((C,L,Le,Ee,Re)=>{var gt,ht,_t;B(l,`Header: ${(gt=e(g))!=null?gt:""}`),B(I,` (${C!=null?C:""})
                                ${(ht=(e(A),y(()=>e(A).length)))!=null?ht:""}/${L!=null?L:""}`),B(da,` (${Le!=null?Le:""})
                                ${(_t=(e(x),y(()=>e(x).length)))!=null?_t:""}/${Ee!=null?Ee:""}`),B(ma,`${Re!=null?Re:""}
                Each row is one alliance from the Compared coalition. "Net" = Selected
                value minus Compared value (positive favours Selected).`)},[()=>y(()=>{var C;return(C=re())==null?void 0:C.name}),()=>y(()=>{var C,L;return(L=(C=re())==null?void 0:C.alliance_ids.length)!=null?L:0}),()=>y(()=>{var C;return(C=ie())==null?void 0:C.name}),()=>y(()=>{var C,L;return(L=(C=ie())==null?void 0:C.alliance_ids.length)!=null?L:0}),()=>(xa(Ve),e(g),y(()=>Ve(e(g)).directionNote(e(g))))]),V("click",b,Ft),V("click",K,Dt),V("click",ua,Ut),j(t,a)};D(ia,t=>{e(s)&&t(la)})}u($e);var st=v($e,2);{let t=E(()=>[e(g)]);We(st,{get open(){return e(te)},title:"Choose Metric Header",description:"Pick the active war web header used for AAvA calculations.",get items(){return e(je)},get selectedIds(){return e(t)},applyLabel:"Use header",singleSelect:!0,searchPlaceholder:"Search headers...",validateSelection:a=>Fa(a,"header"),$$events:{close:Ht,apply:Vt}})}var ct=v(st,2);{let t=E(()=>y(()=>Ce().label)),a=E(()=>(e(A),e(x),y(()=>e(A).length>0&&e(x).length>0))),n=E(()=>(e(A),e(x),y(()=>e(A).length>0&&e(x).length>0))),r=E(()=>y(Je)),o=E(()=>y(Je));ja(ct,{get open(){return e(ye)},title:"AAvA KPI Builder",description:"Create shared KPI widgets from the active AAvA snapshot and maintain widget order.",get widgets(){return e(xe)},showMetricGlossary:!0,showPresetSection:!1,rankingEntityOptions:[{value:"alliance",label:"Alliance"}],metricEntityOptions:[{value:"alliance",label:"Alliance"}],scopeOptions:[{value:"selection",label:"Selection snapshot"}],rankingEntityToAdd:"alliance",rankingScopeToAdd:"selection",metricEntityToAdd:"alliance",metricScopeToAdd:"selection",get metricsOptions(){return Da},get selectedSnapshotLabel(){return e(t)},get canAddRanking(){return e(a)},get canAddMetric(){return e(n)},get canAddRankingReason(){return e(r)},get canAddMetricReason(){return e(o)},widgetManagerLabel:Rt,metricLabel:l=>{var b;return(b=e(P)[l])!=null?b:l},metricDescription:Et,get rankingMetricToAdd(){return e(ve)},set rankingMetricToAdd(l){i(ve,l)},get rankingLimitToAdd(){return e(ge)},set rankingLimitToAdd(l){i(ge,l)},get metricMetricToAdd(){return e(he)},set metricMetricToAdd(l){i(he,l)},get metricAggToAdd(){return e(_e)},set metricAggToAdd(l){i(_e,l)},get metricNormalizeByToAdd(){return e(be)},set metricNormalizeByToAdd(l){i(be,l)},$$events:{close:Lt,removeWidget:l=>It(l.detail.id),moveWidget:l=>Pt(l.detail.id,l.detail.delta),addRanking:Mt,addMetric:$t},$$legacy:!0})}var dt=v(ct,2);{let t=E(()=>y(()=>{var a,n;return`Selected coalition: ${(n=(a=re())==null?void 0:a.name)!=null?n:""}`}));We(dt,{get open(){return e(ae)},get title(){return e(t)},description:"Choose alliances to include in the selected coalition set.",get items(){return e(De)},get selectedIds(){return e(A)},searchPlaceholder:"Search selected coalition alliances...",$$events:{close:qt,apply:zt}})}var ut=v(dt,2);{let t=E(()=>y(()=>{var a,n;return`Compared coalition: ${(n=(a=ie())==null?void 0:a.name)!=null?n:""}`}));We(ut,{get open(){return e(ne)},get title(){return e(t)},description:"Choose alliances to include in the compared coalition set.",get items(){return e(Ue)},get selectedIds(){return e(x)},searchPlaceholder:"Search compared coalition alliances...",$$events:{close:Qt,apply:Ot}})}var mt=v(ut,2);{var oa=t=>{var a=Xa();j(t,a)};D(mt,t=>{e(s),e(A),e(x),y(()=>e(s)&&(e(A).length===0||e(x).length===0))&&t(oa)})}var sa=v(mt,4);{var ca=t=>{var a=Za(),n=d(a,!0);u(a),J(()=>B(n,e(M))),j(t,a)};D(sa,t=>{e(M)&&t(ca)})}u(Se),J(()=>{var t;return B(Xt,`Conflict: ${(t=e(W))!=null?t:""}`)}),V("click",ta,jt),V("click",it,Tt),j(fe,Se),ha()}export{hn as component};
