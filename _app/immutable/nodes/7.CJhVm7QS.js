import{h as fe,a as M,t as F,e as I,b as be,s as J,c as _e}from"../chunks/disclose-version.B0B114Pu.js";import{i as ve}from"../chunks/legacy.DQ3BPbVs.js";import{p as ge,b as he,g as t,s as E,j as Yt,$ as Ce,f as mt,c as D,m as P,d as S,r as N,t as R,n as Qt,h as Ct}from"../chunks/runtime.mdILdFMH.js";import{o as Ae,i as V}from"../chunks/index-client.T9W-Qjf4.js";import{e as At,i as $t}from"../chunks/each.CSPNoT9w.js";import{s as $e,c as qt,r as Te}from"../chunks/_layout.B2jEg47M.js";import{a as Ee,s as O,c as st,u as Tt,e as ye,E as we,v as ft,w as De,d as Se,f as Jt,b as bt,x as Ne,P as xe,t as lt,S as ke,h as Xt,r as Le}from"../chunks/Progress.sJimGKi_.js";import{b as Me}from"../chunks/misc.CV3rZvPR.js";import{b as ot}from"../chunks/paths.C3hcIf8J.js";import{a as Pe,s as Re}from"../chunks/containerSetup.bmmcM5eb.js";var s=(r=>(r[r.ID=0]="ID",r[r.NAME=1]="NAME",r[r.C1_NAME=2]="C1_NAME",r[r.C2_NAME=3]="C2_NAME",r[r.START=4]="START",r[r.END=5]="END",r[r.C1_ID=6]="C1_ID",r[r.C2_ID=7]="C2_ID",r[r.WIKI=8]="WIKI",r[r.STATUS=9]="STATUS",r[r.CB=10]="CB",r[r.POSTS=11]="POSTS",r[r.SOURCE=12]="SOURCE",r[r.CATEGORY=13]="CATEGORY",r[r.WARS=14]="WARS",r[r.ACTIVE_WARS=15]="ACTIVE_WARS",r[r.C1_DEALT=16]="C1_DEALT",r[r.C2_DEALT=17]="C2_DEALT",r[r.TOTAL=18]="TOTAL",r))(s||{}),Oe=be('<script id="visjs" async src="https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.3/vis-timeline-graph2d.min.js"><\/script><!---->',1),Fe=F("<option> </option>"),We=F('<div class="d-inline-block ms-2"><div class="input-group ux-inputbar"><label for="source" class="fw-bold input-group-text">Source:</label> <select class="form-select form-select-sm fw-bold"><option>All</option><!></select> <a class="btn ux-btn fw-bold" href="http://locutus.link/#/command/conflict%20create_temp" target="_blank" rel="noopener noreferrer">Create Conflict</a></div></div>'),Be=F('<div class="alert alert-danger m-2 d-flex justify-content-between align-items-center"><span> </span> <button class="btn btn-sm btn-outline-danger fw-bold">Retry</button></div>'),je=F('<button class="btn btn-sm fw-bold" title="Toggle category"> <span class="badge text-bg-light ms-1"> </span></button>'),ze=F('<span class="ux-muted ms-2">Pinned alliance badges:</span> <span class="badge text-bg-primary">C1</span> <span class="badge text-bg-danger">C2</span>',1),Ue=F('<button class="btn ux-btn btn-sm ms-1 mb-1"> </button>'),Ge=F(`<input type="text" class="form-control mb-2" placeholder="Search alliances..."> <div class="d-flex justify-content-left align-items-center ms-1"><div class="ux-callout mb-2">These will toggle the visiblity of conflicts which contain the
          selected alliances. It does NOT affect the individual conflict stats.</div></div> <div class="ux-surface p-2 mb-2"><button class="btn ux-btn btn-sm ms-1 mb-1">Toggle All</button> <br> <!></div>`,1),Ve=F('<div class="ux-surface p-2 mb-2"><div class="d-flex flex-wrap gap-2 align-items-center"><span class="fw-bold">Quick filters:</span> <span class="ux-muted">Category</span> <!> <!></div></div> <div class="d-flex flex-wrap gap-1 mb-2 align-items-center"><button class="btn ux-btn">Filter Alliances&nbsp;<i class="bi"></i></button> <!></div> <!>',1),He=F('<div class="small text-muted text-end mt-2"> </div>'),Ke=F('<div class="container-fluid p-2 ux-page-body"><h1 class="m-0 mb-2 p-2 ux-surface ux-page-title"><a aria-label="Back to home"><i class="bi bi-arrow-left"></i></a> &nbsp;Conflict <!></h1> <!> <!> <!> <div id="conflictTable" class="inline-block"></div> <div class="ux-surface p-2 mt-2"><h4 class="m-1">Timeline</h4> <p class="ps-1 ux-muted">Use ctrl+mousewheel to zoom on PC</p> <div class="m-0" id="visualization"></div></div> <!></div>');function na(r,Zt){var Ot;ge(Zt,!1);let Et,g=P(null),B=P(["All",0]),it=P(!1),X=P(null),_t=P(""),Z={},yt={},Y={},wt=[],Q=null,_=P(new Set),tt=P(!1),rt=P(""),j=P({}),k=P(new Set);const Dt=()=>Ne();Ae(()=>{try{Ee(["ids","guild","guild_id"]),Pe(),O("getIds",(e,a)=>{const n=yt[e][a],i=n.map(o=>st(Z[o],o));return{alliance_ids:n,alliance_names:i}}),O("formatUrl",(e,a,n,i)=>{const o=n[s.ID],d=L(`${e}`);return`<span class='ux-conflict-cell'><a href='${`${ot}/conflict?id=${o}`}' class='btn ux-btn btn-sm fw-bold ux-conflict-name-btn' onclick='return openConflictCardFromName(event,${o})' aria-label='Open conflict details for ${d}' title='Left click: open card • Middle click/right click: open conflict page'>${d}</a></span>`}),O("openConflictCardFromName",(e,a)=>{if(!e){const o=Tt("openConflictCard");return o==null||o(void 0,a),!1}if(e.stopPropagation(),!(e.button===0&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey))return!0;e.preventDefault();const i=Tt("openConflictCard");return i==null||i(void 0,a),!1}),O("download",function(a,n){ye(document.getElementById("conflictTable").querySelector("table"),a,we[n])}),O("openConflictField",(e,a,n)=>{at(e);const i=Y[a];if(!i)return;const o=`${i.name} - ${n.toUpperCase()}`;ft(o,Nt(i,n))}),O("openConflictFieldFromCard",(e,a,n)=>{at(e);const i=Y[a];if(!i)return;const o=`${i.name} - ${n.toUpperCase()}`;ft(xt(o,a),Nt(i,n))}),O("openCoalitionForConflict",(e,a,n,i=!1)=>{at(e);const o=Y[a];if(!o)return;const d=Tt("getIds");if(!d)return;const p=d(o.name,n),h=p.alliance_ids,T=document.createElement("ul");T.className="mb-0";for(let $=0;$<h.length;($+=1)-1){const v=h[$],C=st(p.alliance_names[$],v),y=document.createElement("a");y.setAttribute("href",`https://politicsandwar.com/alliance/id=${v}`),y.setAttribute("target","_blank"),y.setAttribute("rel","noopener noreferrer"),y.textContent=C;const w=document.createElement("li");w.appendChild(y),T.appendChild(w)}const c=document.createElement("div"),m=h.join(","),f=document.createElement("kbd");f.textContent=m,f.setAttribute("readonly","true"),f.setAttribute("class","form-control m-0"),c.appendChild(f);const b=`<button class='btn btn-outline-info btn-sm position-absolute top-0 end-0 m-3' onclick='copyToClipboard("${m}")' aria-label='Copy alliance ids'><i class='bi bi-clipboard'></i></button>`;c.innerHTML+=b,c.appendChild(T),ft(i?xt(`Coalition ${n+1}: ${o.name}`,a):`Coalition ${n+1}: ${o.name}`,c.outerHTML)}),O("openConflictCard",(e,a)=>{var $,v,C,y,w;at(e);const n=Y[a];if(!n)return;const i=($=n.wiki)!=null?$:"",o=i.trim().length>0,d=((v=n.status)!=null?v:"").trim().length>0,p=((C=n.cb)!=null?C:"").trim().length>0,h=n.posts&&typeof n.posts=="object",T=o?ee(i):"#",c=`${ot}/conflict?id=${a}`,m=L(n.name),f=((y=n.pinnedInfo)!=null?y:"").trim().length>0,b=`
          <a class='btn ux-btn-primary w-100 fw-bold mb-2' href='${c}' onclick='openConflictPageFromCard(event,${a})' aria-label='Open full conflict page for ${m}'>Open Conflict Page</a>

          <div class='ux-conflict-popup-actions' role='group' aria-label='Conflict actions'>
            <button type='button' class='btn ux-btn fw-bold' onclick='openCoalitionForConflict(event,${a},0,true)' aria-label='Show coalition 1 alliances for ${m}'>C1</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openCoalitionForConflict(event,${a},1,true)' aria-label='Show coalition 2 alliances for ${m}'>C2</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openConflictFieldFromCard(event,${a},"status")' ${d?"":"disabled"} aria-label='Open status for ${m}'>Status</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openConflictFieldFromCard(event,${a},"cb")' ${p?"":"disabled"} aria-label='Open casus belli for ${m}'>CB</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openConflictFieldFromCard(event,${a},"posts")' ${h?"":"disabled"} aria-label='Open posts for ${m}'>Posts</button>
            <a class='btn ux-btn fw-bold' href='${T}' ${o?"target='_blank' rel='noopener noreferrer'":"aria-disabled='true' tabindex='-1'"} aria-label='Open wiki for ${m} in a new tab'>Wiki</a>
          </div>

          <div class='ux-conflict-popup-meta mt-2' role='group' aria-label='Conflict basic info'>
            <div><span class='ux-muted'>C1:</span> ${L(n.c1Name)}</div>
            <div><span class='ux-muted'>C2:</span> ${L(n.c2Name)}</div>
            <div><span class='ux-muted'>Category:</span> ${L(n.category)}</div>
            <div><span class='ux-muted'>Start:</span> ${L(St(n.start))}</div>
            <div><span class='ux-muted'>End:</span> ${L(St(n.end))}</div>
            <div><span class='ux-muted'>Wars:</span> ${n.wars}</div>
            <div><span class='ux-muted'>Active wars:</span> ${n.activeWars}</div>
            <div><span class='ux-muted'>C1 dealt:</span> ${L(vt(n.c1Dealt))}</div>
            <div><span class='ux-muted'>C2 dealt:</span> ${L(vt(n.c2Dealt))}</div>
            <div><span class='ux-muted'>Total dealt:</span> ${L(vt(n.totalDealt))}</div>
            ${f?`<div><span class='ux-muted'>Pinned:</span> ${L((w=n.pinnedInfo)!=null?w:"")}</div>`:""}
          </div>
        `;ft(`${n.name} Details`,b)}),O("openConflictPageFromCard",(e,a)=>{var o;at(e);const n=document.getElementById("exampleModal"),i=De(n);(o=i==null?void 0:i.hide)==null||o.call(i),window.setTimeout(()=>{window.location.href=`${ot}/conflict?id=${a}`},80)}),O("formatPinnedAlliances",(e,a,n,i)=>{var f;if(t(_).size===((f=t(g))==null?void 0:f.alliance_ids.length))return"";const o=n[s.C1_ID],d=n[s.C2_ID],p=o.filter(b=>t(_).has(b)),h=d.filter(b=>t(_).has(b)),T=p.length+h.length;if(T===0)return"<span class='ux-muted'>-</span>";let c=[];const m=(b,$,v)=>{var C;for(const y of b){if(c.length>=4)return;const w=(C=Z[y])!=null?C:`AA:${y}`;c.push(`<span class='badge ${v}' title='${$}: ${w}'>${$}:${w}</span>`)}};return m(p,"C1","text-bg-primary"),m(h,"C2","text-bg-danger"),T>c.length&&c.push(`<span class='badge text-bg-secondary'>+${T-c.length}</span>`),`<span class='d-inline-flex flex-wrap gap-1'>${c.join("")}</span>`});let l=`https://locutus.s3.ap-southeast-2.amazonaws.com/conflicts/index.gzip?${qt.version.conflicts}`;Se(l).then(e=>{E(X,null),E(g,e),E(_t,Jt(qt.version.conflicts,e.update_ms));let a=e.alliance_ids,n=e.alliance_names;for(let d=0;d<a.length;(d+=1)-1)Z[a[d]]=st(n[d],a[d]);let i=new URLSearchParams(window.location.search);const o=i.get("ids");if(o)for(const d of o.split("."))t(_).add(parseInt(d));else for(let d=0;d<a.length;(d+=1)-1)t(_).add(a[d]);Q=i.get("guild")||i.get("guild_id"),et(e,Q),E(it,!0),bt(),q(!1)}).catch(e=>{console.error("Failed to load conflicts data",e),E(X,"Could not load conflicts data. Please try again later."),E(it,!0)})}catch(l){console.error("Error reading from S3 bucket:",l),E(X,"Could not load conflicts data. Please try again later.")}});function et(l,e){var v,C,y,w,z,H,K,ct,U,dt,ut,Ft,Wt,Bt,jt,zt,Ut,Gt,Vt;let a=[...l.headers],n=[s.NAME,s.C1_NAME,s.C2_NAME,s.START,s.END,s.WARS,s.ACTIVE_WARS,s.C1_DEALT,s.C2_DEALT,s.CATEGORY],i=[s.NAME,s.CATEGORY,s.C1_NAME,s.C2_NAME],o={},d=[s.END+1,"desc"],p=l.conflicts;Y={},t(_).size!=((v=t(g))==null?void 0:v.alliance_ids.length)&&(p=p.filter(A=>{const u=A[s.C1_ID],x=A[s.C2_ID];return u.some(G=>t(_).has(G))||x.some(G=>t(_).has(G))}));let h=a.indexOf("source"),T=l.source_sets,c=l.source_names,m=e&&T?T[e]:null;if(m){E(B,[c[e],parseFloat(e)]),t(B)[0]||Yt(B,t(B)[0]=e+" (None Featured)");let A=function(u){if(!m)return!0;let x=h==-1?0:u[h];return!x||x==0||m.includes(x)||parseFloat(e)==x||u[0]==parseInt(e)?!0:x==128};p=p.filter(A)}E(j,{});for(const A of p){const u=`${(C=A[s.CATEGORY])!=null?C:"uncategorized"}`;Yt(j,t(j)[u]=((y=t(j)[u])!=null?y:0)+1)}t(k).size===0?E(k,new Set(Object.keys(t(j)))):(E(k,new Set([...t(k)].filter(A=>t(j)[A]!=null))),t(k).size===0&&E(k,new Set(Object.keys(t(j))))),p=p.filter(A=>{var x;const u=`${(x=A[s.CATEGORY])!=null?x:"uncategorized"}`;return t(k).has(u)});for(let A=0;A<p.length;(A+=1)-1){let u=p[A],x=u[s.NAME];yt[x]=[u[s.C1_ID],u[s.C2_ID]],u[s.C1_NAME],u[s.C2_NAME];const G=u[s.ID],de=u[s.C1_ID],ue=u[s.C2_ID],pe=de.filter(W=>t(_).has(W)),me=ue.filter(W=>t(_).has(W)),Ht=pe.map(W=>{var nt;return(nt=Z[W])!=null?nt:`AA:${W}`}).slice(0,4),Kt=me.map(W=>{var nt;return(nt=Z[W])!=null?nt:`AA:${W}`}).slice(0,4),It=t(_).size!==((w=t(g))==null?void 0:w.alliance_ids.length),pt=[];It&&Ht.length>0&&pt.push(`C1: ${Ht.join(", ")}`),It&&Kt.length>0&&pt.push(`C2: ${Kt.join(", ")}`),Y[G]={name:x,c1Name:(z=u[s.C1_NAME])!=null?z:"N/A",c2Name:(H=u[s.C2_NAME])!=null?H:"N/A",category:`${(K=u[s.CATEGORY])!=null?K:"uncategorized"}`,start:(ct=u[s.START])!=null?ct:0,end:(U=u[s.END])!=null?U:-1,wars:(dt=u[s.WARS])!=null?dt:0,activeWars:(ut=u[s.ACTIVE_WARS])!=null?ut:0,c1Dealt:(Ft=u[s.C1_DEALT])!=null?Ft:0,c2Dealt:(Wt=u[s.C2_DEALT])!=null?Wt:0,totalDealt:((Bt=u[s.C1_DEALT])!=null?Bt:0)+((jt=u[s.C2_DEALT])!=null?jt:0),pinnedInfo:pt.length>0?pt.join(" | "):null,wiki:(zt=u[s.WIKI])!=null?zt:null,status:(Ut=u[s.STATUS])!=null?Ut:null,cb:(Gt=u[s.CB])!=null?Gt:null,posts:u[s.POSTS]}}wt=p,a.push("total");const f=t(_).size!==((Vt=t(g))==null?void 0:Vt.alliance_ids.length);f&&a.push("pinned"),p=p.map(A=>{const u=A[s.C1_DEALT]+A[s.C2_DEALT];return f?[...A,u,""]:[...A,u]});const b=f?a.length-1:-1;f&&n.push(b),o.formatUrl=[s.NAME],o.formatNumber=[s.WARS,s.ACTIVE_WARS],o.formatMoney=[s.C1_DEALT,s.C2_DEALT,s.TOTAL],o.formatDate=[s.START,s.END],f&&(o.formatPinnedAlliances=[b]);let $=document.getElementById("conflictTable");Et={columns:a,data:p,visible:n,searchable:i,cell_format:o,row_format:(A,u,x)=>{let G=u[5];G==-1?A.classList.add("bg-danger-subtle"):G<Date.now()-432e6?A.classList.add("bg-light-subtle"):A.classList.add("bg-warning-subtle")},sort:d},Re($,Et)}function te(l){const a=l.target.value,n=t(g).source_names[a];E(B,[n,a]),Q=a==="0"?null:a,Xt("guild",a==="0"?null:a),bt(),et(t(g),a),q(!0)}function ee(l){const e=l.trim();return e?/^https?:\/\//i.test(e)?e:`https://politicsandwar.fandom.com/wiki/${encodeURIComponent(e)}`:"#"}function at(l){l&&(l.preventDefault(),l.stopPropagation())}function St(l){return l===-1?"Ongoing":!l||Number.isNaN(l)?"N/A":new Date(l).toLocaleString()}function vt(l){return!l||Number.isNaN(l)?"$0":`$${Math.round(l).toLocaleString()}`}function Nt(l,e){var n,i;const a=document.createElement("div");if(e==="status")a.innerHTML=`<ul class='m-0'><li>${(n=l.status)!=null?n:"N/A"}</li></ul>`;else if(e==="cb")a.innerHTML=`<ul class='m-0'><li>${(i=l.cb)!=null?i:"N/A"}</li></ul>`;else{const o=l.posts,d=document.createElement("ul");d.className="m-0";let p=!1;o&&typeof o=="object"&&Object.entries(o).forEach(([h,T])=>{var v;const c=T,m=document.createElement("li"),f=Array.isArray(c)?c[0]:null,b=Array.isArray(c)&&(v=c[1])!=null?v:h,$=Array.isArray(c)?c[2]:null;if(f!=null){const C=document.createElement("a");C.href=`https://forum.politicsandwar.com/index.php?/topic/${f}`,C.target="_blank",C.rel="noopener noreferrer",C.textContent=b,m.appendChild(C)}else m.textContent=b;if(typeof $=="number"){const C=document.createElement("small");C.className="text-muted ms-2",C.textContent=Jt("",$).replace("Version:  • ","").replace("Version: ",""),m.appendChild(C)}d.appendChild(m),p=!0}),p?a.appendChild(d):a.innerHTML="<ul class='m-0'><li>No posts available</li></ul>"}return a.outerHTML}function xt(l,e){const a=L(l);return`<button type='button' class='btn ux-btn btn-sm fw-bold me-2' onclick='openConflictCard(undefined,${e})' aria-label='Back to conflict actions for ${a}' title='Back to actions'><i class='bi bi-arrow-left'></i></button>${a}`}function L(l){return l.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function ae(l){const e=new Set(t(k));if(e.has(l)){if(e.size===1)return;e.delete(l)}else e.add(l);E(k,e),et(t(g),Q),q(!0)}function ne(l){t(_).has(l)?t(_).delete(l):t(_).add(l),kt()}function se(){for(let l=0;l<t(g).alliance_ids.length;(l+=1)-1){let e=t(g).alliance_ids[l];t(_).has(e)?t(_).delete(e):t(_).add(e)}kt()}function kt(){E(_,t(_)),Xt("ids",Array.from(t(_)).join("."),{replace:!0}),bt(),et(t(g),Q),q(!0)}function le(){t(g)&&(E(_,new Set(t(g).alliance_ids)),Q=null,E(B,["All",0]),E(k,new Set),E(rt,""),Le(["ids","guild","guild_id"]),bt(),et(t(g),null),q(!0))}function oe(){window.location.reload()}function q(l){const e=document.getElementById("visjs");if(t(it)&&t(g)&&(e&&e.getAttribute("data-loaded")||typeof Dt()!="undefined")){const a=document.getElementById("visualization");if(!a)return;if(a.hasChildNodes()){if(!l)return;a.innerHTML=""}const n=Dt(),i=new n.DataSet;let o=Date.now(),d=0;const p=t(g).alliance_ids.length!=t(_).size;wt.forEach(c=>{if(p&&!c[s.C1_ID].some(v=>t(_).has(v))&&!c[s.C2_ID].some(v=>t(_).has(v)))return;const m=c[s.NAME],f=c[s.START],b=c[s.END];o=Math.min(o,f),d=Math.max(d,b==-1?Date.now():b);const $=`${ot}/conflict?id=${c[s.ID]}`;i.add({id:c[s.ID],content:`<a href="${$}" target="_blank" title="${m}">${m}</a>`,start:f,end:b===-1?Date.now():b})});const h={start:o,end:d,height:"75vh",width:"100%",zoomKey:"ctrlKey",orientation:"top",verticalScroll:!0},T=new n.Timeline(a,i,h);T.addCustomTime(o,"t1"),T.addCustomTime(d,"t2")}}function ie(l){l.target.setAttribute("data-loaded","true"),q(!1)}ve();var gt=Ke();fe(l=>{var e=Oe();Ce.title="Conflicts";var a=mt(e),n=D(a);I("load",a,ie),M(l,e)});var ht=S(gt),Lt=S(ht);$e(Lt,"href",`${(Ot=ot)!=null?Ot:""}/`);var re=D(Lt,2);V(re,()=>t(g)&&t(g).source_names,l=>{var e=We(),a=S(e),n=D(S(a),2),i=S(n);i.value=(i.__value="0")==null?"":"0";var o=D(i);At(o,1,()=>Object.entries(t(g).source_names),$t,(d,p)=>{let h=()=>t(p)[0],T=()=>t(p)[1];var c=Fe(),m={},f=S(c,!0);N(c),R(()=>{m!==(m=h())&&(c.value=(c.__value=h())==null?"":h()),c.selected=h()==t(B)[1],J(f,T())}),M(d,c)}),N(n),Qt(2),N(a),N(e),R(()=>i.selected=t(B)[1]==0),I("change",n,te),M(l,e)}),N(ht);var Mt=D(ht,2);V(Mt,()=>!t(it),l=>{xe(l)});var Pt=D(Mt,2);V(Pt,()=>t(X),l=>{var e=Be(),a=S(e),n=S(a,!0);N(a);var i=D(a,2);N(e),R(()=>J(n,t(X))),I("click",i,oe),M(l,e)});var Rt=D(Pt,2);V(Rt,()=>t(g),l=>{var e=Ve(),a=mt(e),n=S(a),i=D(S(n),4);At(i,1,()=>Object.entries(t(j)),$t,(m,f)=>{let b=()=>t(f)[0],$=()=>t(f)[1];var v=je();const C=Ct(()=>t(k).has(b()));R(()=>lt(v,"ux-btn",t(C)));const y=Ct(()=>!t(k).has(b()));R(()=>lt(v,"btn-outline-secondary",t(y)));var w=S(v),z=D(w),H=S(z,!0);N(z),N(v),R(()=>{var K;J(w,`${(K=b())!=null?K:""} `),J(H,$())}),I("click",v,()=>ae(b())),M(m,v)});var o=D(i,2);V(o,()=>t(_).size!==t(g).alliance_ids.length,m=>{var f=ze();Qt(4),M(m,f)}),N(n),N(a);var d=D(a,2),p=S(d),h=D(S(p));N(p);var T=D(p,2);ke(T,{onReset:le}),N(d);var c=D(d,2);V(c,()=>t(tt),m=>{var f=Ge(),b=mt(f);Te(b);var $=D(b,4),v=S($),C=D(v,4);At(C,1,()=>t(g).alliance_ids,$t,(y,w,z)=>{var H=_e(),K=mt(H);V(K,()=>st(t(g).alliance_names[z],t(w)).toLowerCase().includes(t(rt).toLowerCase()),ct=>{var U=Ue();const dt=Ct(()=>t(_).has(t(w)));R(()=>lt(U,"active",t(dt)));var ut=S(U,!0);R(()=>J(ut,st(t(g).alliance_names[z],t(w)))),N(U),I("click",U,()=>ne(t(w))),M(ct,U)}),M(y,H)}),N($),Me(b,()=>t(rt),y=>E(rt,y)),I("click",v,()=>se()),M(m,f)}),R(()=>{lt(h,"bi-chevron-down",!t(tt)),lt(h,"bi-chevron-up",t(tt))}),I("click",p,()=>E(tt,!t(tt))),M(l,e)});var ce=D(Rt,6);V(ce,()=>t(_t),l=>{var e=He(),a=S(e,!0);N(e),R(()=>J(a,t(_t))),M(l,e)}),N(gt),M(r,gt),he()}export{na as component};
