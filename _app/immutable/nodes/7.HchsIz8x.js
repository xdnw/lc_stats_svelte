import{h as be,a as M,t as W,e as Q,b as _e,s as X,c as ve}from"../chunks/disclose-version.BGVnXwSC.js";import{i as ge}from"../chunks/legacy.C5xHvBl9.js";import{p as he,l as Ce,a as Ae,b as ye,g as t,s as h,j as Yt,$ as $e,f as mt,c as D,m as P,d as S,r as N,t as O,n as qt,h as Ct}from"../chunks/runtime.Bz3ZCnid.js";import{o as Te,i as H}from"../chunks/index-client.Q1qAUnCw.js";import{a as Ee,d as we,g as De,s as ft,e as At,i as yt,b as Jt,r as Se}from"../chunks/binary.C_HE3RDK.js";import{s as Ne,c as Xt,r as xe}from"../chunks/_layout.C340yC5l.js";import{s as F,a as lt,l as $t,d as ke,E as Le,m as bt,o as Me,f as Zt,p as Pe,P as Re,t as it,S as Oe}from"../chunks/Progress.KQ1k3Mu0.js";import{b as Fe}from"../chunks/misc.BJslMcuk.js";import{b as ot}from"../chunks/paths.DJMRThZI.js";import{a as We,s as je}from"../chunks/containerSetup.Ci6TewMh.js";var l=(r=>(r[r.ID=0]="ID",r[r.NAME=1]="NAME",r[r.C1_NAME=2]="C1_NAME",r[r.C2_NAME=3]="C2_NAME",r[r.START=4]="START",r[r.END=5]="END",r[r.C1_ID=6]="C1_ID",r[r.C2_ID=7]="C2_ID",r[r.WIKI=8]="WIKI",r[r.STATUS=9]="STATUS",r[r.CB=10]="CB",r[r.POSTS=11]="POSTS",r[r.SOURCE=12]="SOURCE",r[r.CATEGORY=13]="CATEGORY",r[r.WARS=14]="WARS",r[r.ACTIVE_WARS=15]="ACTIVE_WARS",r[r.C1_DEALT=16]="C1_DEALT",r[r.C2_DEALT=17]="C2_DEALT",r[r.TOTAL=18]="TOTAL",r))(l||{}),ze=_e('<script id="visjs" async src="https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.3/vis-timeline-graph2d.min.js"><\/script><!---->',1),Be=W("<option> </option>"),Ue=W('<div class="d-inline-block ms-2"><div class="input-group ux-inputbar"><label for="source" class="fw-bold input-group-text">Source:</label> <select class="form-select form-select-sm fw-bold"><option>All</option><!></select> <a class="btn ux-btn fw-bold" href="http://locutus.link/#/command/conflict%20create_temp" target="_blank" rel="noopener noreferrer">Create Conflict</a></div></div>'),Ge=W('<div class="alert alert-danger m-2 d-flex justify-content-between align-items-center"><span> </span> <button class="btn btn-sm btn-outline-danger fw-bold">Retry</button></div>'),Ve=W('<button class="btn btn-sm fw-bold" title="Toggle category"> <span class="badge text-bg-light ms-1"> </span></button>'),He=W('<span class="ux-muted ms-2">Pinned alliance badges:</span> <span class="badge text-bg-primary">C1</span> <span class="badge text-bg-danger">C2</span>',1),Ke=W('<button class="btn ux-btn btn-sm ms-1 mb-1"> </button>'),Ie=W(`<input type="text" class="form-control mb-2" placeholder="Search alliances..."> <div class="d-flex justify-content-left align-items-center ms-1"><div class="ux-callout mb-2">These will toggle the visiblity of conflicts which contain the
          selected alliances. It does NOT affect the individual conflict stats.</div></div> <div class="ux-surface p-2 mb-2"><button class="btn ux-btn btn-sm ms-1 mb-1">Toggle All</button> <br> <!></div>`,1),Qe=W('<div class="ux-surface p-2 mb-2"><div class="d-flex flex-wrap gap-2 align-items-center"><span class="fw-bold">Quick filters:</span> <span class="ux-muted">Category</span> <!> <!></div></div> <div class="d-flex flex-wrap gap-1 mb-2 align-items-center"><button class="btn ux-btn">Filter Alliances&nbsp;<i class="bi"></i></button> <!></div> <!>',1),Ye=W('<div class="small text-muted text-end mt-2"> </div>'),qe=W('<div class="container-fluid p-2 ux-page-body"><h1 class="m-0 mb-2 p-2 ux-surface ux-page-title"><a aria-label="Back to home"><i class="bi bi-arrow-left"></i></a> &nbsp;Conflict <!></h1> <!> <!> <!> <div id="conflictTable" class="inline-block"></div> <div class="ux-surface p-2 mt-2"><h4 class="m-1">Timeline</h4> <p class="ps-1 ux-muted">Use ctrl+mousewheel to zoom on PC</p> <div class="m-0" id="visualization"></div></div> <!></div>');function oa(r,te){var Ft;he(te,!1);const Tt=P();let Et,v=P(null),z=P(["All",0]),rt=P(!1),Z=P(null),_t=P(""),tt={},wt={},Y={},Dt=[],B=P(null),b=P(new Set),et=P(!1),q=P(""),R=P({}),x=P(new Set);const St=()=>Pe();Te(()=>{try{Ee(["ids","guild","guild_id"]),We(),F("getIds",(e,a)=>{const n=wt[e][a],o=n.map(i=>lt(tt[i],i));return{alliance_ids:n,alliance_names:o}}),F("formatUrl",(e,a,n,o)=>{const i=n[l.ID],d=L(`${e}`);return`<span class='ux-conflict-cell'><a href='${`${ot}/conflict?id=${i}`}' class='btn ux-btn btn-sm fw-bold ux-conflict-name-btn' onclick='return openConflictCardFromName(event,${i})' aria-label='Open conflict details for ${d}' title='Left click: open card • Middle click/right click: open conflict page'>${d}</a></span>`}),F("openConflictCardFromName",(e,a)=>{if(!e){const i=$t("openConflictCard");return i==null||i(void 0,a),!1}if(e.stopPropagation(),!(e.button===0&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey))return!0;e.preventDefault();const o=$t("openConflictCard");return o==null||o(void 0,a),!1}),F("download",function(a,n){ke(document.getElementById("conflictTable").querySelector("table"),a,Le[n])}),F("openConflictField",(e,a,n)=>{nt(e);const o=Y[a];if(!o)return;const i=`${o.name} - ${n.toUpperCase()}`;bt(i,xt(o,n))}),F("openConflictFieldFromCard",(e,a,n)=>{nt(e);const o=Y[a];if(!o)return;const i=`${o.name} - ${n.toUpperCase()}`;bt(kt(i,a),xt(o,n))}),F("openCoalitionForConflict",(e,a,n,o=!1)=>{nt(e);const i=Y[a];if(!i)return;const d=$t("getIds");if(!d)return;const p=d(i.name,n),C=p.alliance_ids,T=document.createElement("ul");T.className="mb-0";for(let $=0;$<C.length;($+=1)-1){const g=C[$],A=lt(p.alliance_names[$],g),E=document.createElement("a");E.setAttribute("href",`https://politicsandwar.com/alliance/id=${g}`),E.setAttribute("target","_blank"),E.setAttribute("rel","noopener noreferrer"),E.textContent=A;const w=document.createElement("li");w.appendChild(E),T.appendChild(w)}const c=document.createElement("div"),m=C.join(","),f=document.createElement("kbd");f.textContent=m,f.setAttribute("readonly","true"),f.setAttribute("class","form-control m-0"),c.appendChild(f);const _=`<button class='btn btn-outline-info btn-sm position-absolute top-0 end-0 m-3' onclick='copyToClipboard("${m}")' aria-label='Copy alliance ids'><i class='bi bi-clipboard'></i></button>`;c.innerHTML+=_,c.appendChild(T),bt(o?kt(`Coalition ${n+1}: ${i.name}`,a):`Coalition ${n+1}: ${i.name}`,c.outerHTML)}),F("openConflictCard",(e,a)=>{var $,g,A,E,w;nt(e);const n=Y[a];if(!n)return;const o=($=n.wiki)!=null?$:"",i=o.trim().length>0,d=((g=n.status)!=null?g:"").trim().length>0,p=((A=n.cb)!=null?A:"").trim().length>0,C=n.posts&&typeof n.posts=="object",T=i?ae(o):"#",c=`${ot}/conflict?id=${a}`,m=L(n.name),f=((E=n.pinnedInfo)!=null?E:"").trim().length>0,_=`
          <a class='btn ux-btn-primary w-100 fw-bold mb-2' href='${c}' onclick='openConflictPageFromCard(event,${a})' aria-label='Open full conflict page for ${m}'>Open Conflict Page</a>

          <div class='ux-conflict-popup-actions' role='group' aria-label='Conflict actions'>
            <button type='button' class='btn ux-btn fw-bold' onclick='openCoalitionForConflict(event,${a},0,true)' aria-label='Show coalition 1 alliances for ${m}'>C1</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openCoalitionForConflict(event,${a},1,true)' aria-label='Show coalition 2 alliances for ${m}'>C2</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openConflictFieldFromCard(event,${a},"status")' ${d?"":"disabled"} aria-label='Open status for ${m}'>Status</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openConflictFieldFromCard(event,${a},"cb")' ${p?"":"disabled"} aria-label='Open casus belli for ${m}'>CB</button>
            <button type='button' class='btn ux-btn fw-bold' onclick='openConflictFieldFromCard(event,${a},"posts")' ${C?"":"disabled"} aria-label='Open posts for ${m}'>Posts</button>
            <a class='btn ux-btn fw-bold' href='${T}' ${i?"target='_blank' rel='noopener noreferrer'":"aria-disabled='true' tabindex='-1'"} aria-label='Open wiki for ${m} in a new tab'>Wiki</a>
          </div>

          <div class='ux-conflict-popup-meta mt-2' role='group' aria-label='Conflict basic info'>
            <div><span class='ux-muted'>C1:</span> ${L(n.c1Name)}</div>
            <div><span class='ux-muted'>C2:</span> ${L(n.c2Name)}</div>
            <div><span class='ux-muted'>Category:</span> ${L(n.category)}</div>
            <div><span class='ux-muted'>Start:</span> ${L(Nt(n.start))}</div>
            <div><span class='ux-muted'>End:</span> ${L(Nt(n.end))}</div>
            <div><span class='ux-muted'>Wars:</span> ${n.wars}</div>
            <div><span class='ux-muted'>Active wars:</span> ${n.activeWars}</div>
            <div><span class='ux-muted'>C1 dealt:</span> ${L(vt(n.c1Dealt))}</div>
            <div><span class='ux-muted'>C2 dealt:</span> ${L(vt(n.c2Dealt))}</div>
            <div><span class='ux-muted'>Total dealt:</span> ${L(vt(n.totalDealt))}</div>
            ${f?`<div><span class='ux-muted'>Pinned:</span> ${L((w=n.pinnedInfo)!=null?w:"")}</div>`:""}
          </div>
        `;bt(`${n.name} Details`,_)}),F("openConflictPageFromCard",(e,a)=>{var i;nt(e);const n=document.getElementById("exampleModal"),o=Me(n);(i=o==null?void 0:o.hide)==null||i.call(o),window.setTimeout(()=>{window.location.href=`${ot}/conflict?id=${a}`},80)}),F("formatPinnedAlliances",(e,a,n,o)=>{var f;if(t(b).size===((f=t(v))==null?void 0:f.alliance_ids.length))return"";const i=n[l.C1_ID],d=n[l.C2_ID],p=i.filter(_=>t(b).has(_)),C=d.filter(_=>t(b).has(_)),T=p.length+C.length;if(T===0)return"<span class='ux-muted'>-</span>";let c=[];const m=(_,$,g)=>{var A;for(const E of _){if(c.length>=4)return;const w=(A=tt[E])!=null?A:`AA:${E}`;c.push(`<span class='badge ${g}' title='${$}: ${w}'>${$}:${w}</span>`)}};return m(p,"C1","text-bg-primary"),m(C,"C2","text-bg-danger"),T>c.length&&c.push(`<span class='badge text-bg-secondary'>+${T-c.length}</span>`),`<span class='d-inline-flex flex-wrap gap-1'>${c.join("")}</span>`});let s=`https://locutus.s3.ap-southeast-2.amazonaws.com/conflicts/index.gzip?${Xt.version.conflicts}`;we(s).then(e=>{h(Z,null),h(v,e),h(_t,Zt(Xt.version.conflicts,e.update_ms));let a=e.alliance_ids,n=e.alliance_names;for(let d=0;d<a.length;(d+=1)-1)tt[a[d]]=lt(n[d],a[d]);let o=De();const i=o.get("ids");if(i)for(const d of i.split("."))t(b).add(parseInt(d));else for(let d=0;d<a.length;(d+=1)-1)t(b).add(a[d]);h(B,o.get("guild")||o.get("guild_id")),at(e,t(B)),h(rt,!0),ft(),J(!1)}).catch(e=>{console.error("Failed to load conflicts data",e),h(Z,"Could not load conflicts data. Please try again later."),h(rt,!0)})}catch(s){console.error("Error reading from S3 bucket:",s),h(Z,"Could not load conflicts data. Please try again later.")}});function at(s,e){var g,A,E,w,U,K,I,ct,G,dt,ut,Wt,jt,zt,Bt,Ut,Gt,Vt,Ht;let a=[...s.headers],n=[l.NAME,l.C1_NAME,l.C2_NAME,l.START,l.END,l.WARS,l.ACTIVE_WARS,l.C1_DEALT,l.C2_DEALT,l.CATEGORY],o=[l.NAME,l.CATEGORY,l.C1_NAME,l.C2_NAME],i={},d=[l.END+1,"desc"],p=s.conflicts;Y={},t(b).size!=((g=t(v))==null?void 0:g.alliance_ids.length)&&(p=p.filter(y=>{const u=y[l.C1_ID],k=y[l.C2_ID];return u.some(V=>t(b).has(V))||k.some(V=>t(b).has(V))}));let C=a.indexOf("source"),T=s.source_sets,c=s.source_names,m=e&&T?T[e]:null;if(m){h(z,[c[e],parseFloat(e)]),t(z)[0]||Yt(z,t(z)[0]=e+" (None Featured)");let y=function(u){if(!m)return!0;let k=C==-1?0:u[C];return!k||k==0||m.includes(k)||parseFloat(e)==k||u[0]==parseInt(e)?!0:k==128};p=p.filter(y)}h(R,{});for(const y of p){const u=`${(A=y[l.CATEGORY])!=null?A:"uncategorized"}`;Yt(R,t(R)[u]=((E=t(R)[u])!=null?E:0)+1)}t(x).size===0?h(x,new Set(Object.keys(t(R)))):(h(x,new Set([...t(x)].filter(y=>t(R)[y]!=null))),t(x).size===0&&h(x,new Set(Object.keys(t(R))))),p=p.filter(y=>{var k;const u=`${(k=y[l.CATEGORY])!=null?k:"uncategorized"}`;return t(x).has(u)});for(let y=0;y<p.length;(y+=1)-1){let u=p[y],k=u[l.NAME];wt[k]=[u[l.C1_ID],u[l.C2_ID]],u[l.C1_NAME],u[l.C2_NAME];const V=u[l.ID],ue=u[l.C1_ID],pe=u[l.C2_ID],me=ue.filter(j=>t(b).has(j)),fe=pe.filter(j=>t(b).has(j)),Kt=me.map(j=>{var st;return(st=tt[j])!=null?st:`AA:${j}`}).slice(0,4),It=fe.map(j=>{var st;return(st=tt[j])!=null?st:`AA:${j}`}).slice(0,4),Qt=t(b).size!==((w=t(v))==null?void 0:w.alliance_ids.length),pt=[];Qt&&Kt.length>0&&pt.push(`C1: ${Kt.join(", ")}`),Qt&&It.length>0&&pt.push(`C2: ${It.join(", ")}`),Y[V]={name:k,c1Name:(U=u[l.C1_NAME])!=null?U:"N/A",c2Name:(K=u[l.C2_NAME])!=null?K:"N/A",category:`${(I=u[l.CATEGORY])!=null?I:"uncategorized"}`,start:(ct=u[l.START])!=null?ct:0,end:(G=u[l.END])!=null?G:-1,wars:(dt=u[l.WARS])!=null?dt:0,activeWars:(ut=u[l.ACTIVE_WARS])!=null?ut:0,c1Dealt:(Wt=u[l.C1_DEALT])!=null?Wt:0,c2Dealt:(jt=u[l.C2_DEALT])!=null?jt:0,totalDealt:((zt=u[l.C1_DEALT])!=null?zt:0)+((Bt=u[l.C2_DEALT])!=null?Bt:0),pinnedInfo:pt.length>0?pt.join(" | "):null,wiki:(Ut=u[l.WIKI])!=null?Ut:null,status:(Gt=u[l.STATUS])!=null?Gt:null,cb:(Vt=u[l.CB])!=null?Vt:null,posts:u[l.POSTS]}}Dt=p,a.push("total");const f=t(b).size!==((Ht=t(v))==null?void 0:Ht.alliance_ids.length);f&&a.push("pinned"),p=p.map(y=>{const u=y[l.C1_DEALT]+y[l.C2_DEALT];return f?[...y,u,""]:[...y,u]});const _=f?a.length-1:-1;f&&n.push(_),i.formatUrl=[l.NAME],i.formatNumber=[l.WARS,l.ACTIVE_WARS],i.formatMoney=[l.C1_DEALT,l.C2_DEALT,l.TOTAL],i.formatDate=[l.START,l.END],f&&(i.formatPinnedAlliances=[_]);let $=document.getElementById("conflictTable");Et={columns:a,data:p,visible:n,searchable:o,cell_format:i,row_format:(y,u,k)=>{let V=u[5];V==-1?y.classList.add("bg-danger-subtle"):V<Date.now()-432e6?y.classList.add("bg-light-subtle"):y.classList.add("bg-warning-subtle")},sort:d},je($,Et)}function ee(s){const a=s.target.value,n=t(v).source_names[a];h(z,[n,a]),h(B,a==="0"?null:a),Jt("guild",a==="0"?null:a),ft(),at(t(v),a),J(!0)}function ae(s){const e=s.trim();return e?/^https?:\/\//i.test(e)?e:`https://politicsandwar.fandom.com/wiki/${encodeURIComponent(e)}`:"#"}function nt(s){s&&(s.preventDefault(),s.stopPropagation())}function Nt(s){return s===-1?"Ongoing":!s||Number.isNaN(s)?"N/A":new Date(s).toLocaleString()}function vt(s){return!s||Number.isNaN(s)?"$0":`$${Math.round(s).toLocaleString()}`}function xt(s,e){var n,o;const a=document.createElement("div");if(e==="status")a.innerHTML=`<ul class='m-0'><li>${(n=s.status)!=null?n:"N/A"}</li></ul>`;else if(e==="cb")a.innerHTML=`<ul class='m-0'><li>${(o=s.cb)!=null?o:"N/A"}</li></ul>`;else{const i=s.posts,d=document.createElement("ul");d.className="m-0";let p=!1;i&&typeof i=="object"&&Object.entries(i).forEach(([C,T])=>{var g;const c=T,m=document.createElement("li"),f=Array.isArray(c)?c[0]:null,_=Array.isArray(c)&&(g=c[1])!=null?g:C,$=Array.isArray(c)?c[2]:null;if(f!=null){const A=document.createElement("a");A.href=`https://forum.politicsandwar.com/index.php?/topic/${f}`,A.target="_blank",A.rel="noopener noreferrer",A.textContent=_,m.appendChild(A)}else m.textContent=_;if(typeof $=="number"){const A=document.createElement("small");A.className="text-muted ms-2",A.textContent=Zt("",$).replace("Version:  • ","").replace("Version: ",""),m.appendChild(A)}d.appendChild(m),p=!0}),p?a.appendChild(d):a.innerHTML="<ul class='m-0'><li>No posts available</li></ul>"}return a.outerHTML}function kt(s,e){const a=L(s);return`<button type='button' class='btn ux-btn btn-sm fw-bold me-2' onclick='openConflictCard(undefined,${e})' aria-label='Back to conflict actions for ${a}' title='Back to actions'><i class='bi bi-arrow-left'></i></button>${a}`}function L(s){return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function ne(s){const e=new Set(t(x));if(e.has(s)){if(e.size===1)return;e.delete(s)}else e.add(s);h(x,e),at(t(v),t(B)),J(!0)}function se(s){t(b).has(s)?t(b).delete(s):t(b).add(s),Lt()}function le(){for(let s=0;s<t(v).alliance_ids.length;(s+=1)-1){let e=t(v).alliance_ids[s];t(b).has(e)?t(b).delete(e):t(b).add(e)}Lt()}function Lt(){h(b,t(b)),Jt("ids",Array.from(t(b)).join("."),{replace:!0}),ft(),at(t(v),t(B)),J(!0)}function ie(){t(v)&&(h(b,new Set(t(v).alliance_ids)),h(B,null),h(z,["All",0]),h(x,new Set),h(q,""),Se(["ids","guild","guild_id"]),ft(),at(t(v),null),J(!0))}function oe(){window.location.reload()}function J(s){const e=document.getElementById("visjs");if(t(rt)&&t(v)&&(e&&e.getAttribute("data-loaded")||typeof St()!="undefined")){const a=document.getElementById("visualization");if(!a)return;if(a.hasChildNodes()){if(!s)return;a.innerHTML=""}const n=St(),o=new n.DataSet;let i=Date.now(),d=0;const p=t(v).alliance_ids.length!=t(b).size;Dt.forEach(c=>{if(p&&!c[l.C1_ID].some(g=>t(b).has(g))&&!c[l.C2_ID].some(g=>t(b).has(g)))return;const m=c[l.NAME],f=c[l.START],_=c[l.END];i=Math.min(i,f),d=Math.max(d,_==-1?Date.now():_);const $=`${ot}/conflict?id=${c[l.ID]}`;o.add({id:c[l.ID],content:`<a href="${$}" target="_blank" title="${m}">${m}</a>`,start:f,end:_===-1?Date.now():_})});const C={start:i,end:d,height:"75vh",width:"100%",zoomKey:"ctrlKey",orientation:"top",verticalScroll:!0},T=new n.Timeline(a,o,C);T.addCustomTime(i,"t1"),T.addCustomTime(d,"t2")}}function re(s){s.target.setAttribute("data-loaded","true"),J(!1)}Ce(()=>(t(v),t(b),t(R),t(x),t(B),t(q)),()=>{h(Tt,(()=>{if(!t(v))return!1;const s=t(b).size===t(v).alliance_ids.length,e=Object.keys(t(R)),a=t(x).size===e.length&&e.every(n=>t(x).has(n));return!s||!!t(B)||t(q).trim().length>0||!a})())}),Ae(),ge();var gt=qe();be(s=>{var e=ze();$e.title="Conflicts";var a=mt(e),n=D(a);Q("load",a,re),M(s,e)});var ht=S(gt),Mt=S(ht);Ne(Mt,"href",`${(Ft=ot)!=null?Ft:""}/`);var ce=D(Mt,2);H(ce,()=>t(v)&&t(v).source_names,s=>{var e=Ue(),a=S(e),n=D(S(a),2),o=S(n);o.value=(o.__value="0")==null?"":"0";var i=D(o);At(i,1,()=>Object.entries(t(v).source_names),yt,(d,p)=>{let C=()=>t(p)[0],T=()=>t(p)[1];var c=Be(),m={},f=S(c,!0);N(c),O(()=>{m!==(m=C())&&(c.value=(c.__value=C())==null?"":C()),c.selected=C()==t(z)[1],X(f,T())}),M(d,c)}),N(n),qt(2),N(a),N(e),O(()=>o.selected=t(z)[1]==0),Q("change",n,ee),M(s,e)}),N(ht);var Pt=D(ht,2);H(Pt,()=>!t(rt),s=>{Re(s)});var Rt=D(Pt,2);H(Rt,()=>t(Z),s=>{var e=Ge(),a=S(e),n=S(a,!0);N(a);var o=D(a,2);N(e),O(()=>X(n,t(Z))),Q("click",o,oe),M(s,e)});var Ot=D(Rt,2);H(Ot,()=>t(v),s=>{var e=Qe(),a=mt(e),n=S(a),o=D(S(n),4);At(o,1,()=>Object.entries(t(R)),yt,(m,f)=>{let _=()=>t(f)[0],$=()=>t(f)[1];var g=Ve();const A=Ct(()=>t(x).has(_()));O(()=>it(g,"ux-btn",t(A)));const E=Ct(()=>!t(x).has(_()));O(()=>it(g,"btn-outline-secondary",t(E)));var w=S(g),U=D(w),K=S(U,!0);N(U),N(g),O(()=>{var I;X(w,`${(I=_())!=null?I:""} `),X(K,$())}),Q("click",g,()=>ne(_())),M(m,g)});var i=D(o,2);H(i,()=>t(b).size!==t(v).alliance_ids.length,m=>{var f=He();qt(4),M(m,f)}),N(n),N(a);var d=D(a,2),p=S(d),C=D(S(p));N(p);var T=D(p,2);Oe(T,{onReset:ie,get resetDirty(){return t(Tt)}}),N(d);var c=D(d,2);H(c,()=>t(et),m=>{var f=Ie(),_=mt(f);xe(_);var $=D(_,4),g=S($),A=D(g,4);At(A,1,()=>t(v).alliance_ids,yt,(E,w,U)=>{var K=ve(),I=mt(K);H(I,()=>lt(t(v).alliance_names[U],t(w)).toLowerCase().includes(t(q).toLowerCase()),ct=>{var G=Ke();const dt=Ct(()=>t(b).has(t(w)));O(()=>it(G,"active",t(dt)));var ut=S(G,!0);O(()=>X(ut,lt(t(v).alliance_names[U],t(w)))),N(G),Q("click",G,()=>se(t(w))),M(ct,G)}),M(E,K)}),N($),Fe(_,()=>t(q),E=>h(q,E)),Q("click",g,()=>le()),M(m,f)}),O(()=>{it(C,"bi-chevron-down",!t(et)),it(C,"bi-chevron-up",t(et))}),Q("click",p,()=>h(et,!t(et))),M(s,e)});var de=D(Ot,6);H(de,()=>t(_t),s=>{var e=Ye(),a=S(e,!0);N(e),O(()=>X(a,t(_t))),M(s,e)}),N(gt),M(r,gt),ye()}export{oa as component};
